!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){"use strict";function t(t){var e=[];for(var r in t)e.push(r);return e}var e,r=function(t){try{t()}catch(e){return!1}return!0},n=function(t,e){try{var r=function(){t.apply(this,arguments)};return r.__proto__?(Object.setPrototypeOf(r,t),r.prototype=Object.create(t.prototype,{constructor:{value:t}}),e(r)):!1}catch(n){return!1}},o=function(){try{return Object.defineProperty({},"x",{}),!0}catch(t){return!1}},i=function(){var t=!1;if(String.prototype.startsWith)try{"/a/".startsWith(/a/)}catch(e){t=!0}return t},a=new Function("return this;"),u=a(),s=u.isFinite,c=!!Object.defineProperty&&o(),f=i(),l=Function.call.bind(String.prototype.indexOf),p=Function.call.bind(Object.prototype.toString),h=Function.call.bind(Object.prototype.hasOwnProperty),y=function(){},v=u.Symbol||{},b=v.species||"@@species",g={string:function(t){return"[object String]"===p(t)},regex:function(t){return"[object RegExp]"===p(t)},symbol:function(t){return"function"==typeof u.Symbol&&"symbol"==typeof t}},d=function(t,e,r,n){!n&&e in t||(c?Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!0,value:r}):t[e]=r)},m={getter:function(t,e,r){if(!c)throw new TypeError("getters require true ES5 support");Object.defineProperty(t,e,{configurable:!0,enumerable:!1,get:r})},proxy:function(t,e,r){if(!c)throw new TypeError("getters require true ES5 support");var n=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,{configurable:n.configurable,enumerable:n.enumerable,get:function(){return t[e]},set:function(r){t[e]=r}})},redefine:function(t,e,r){if(c){var n=Object.getOwnPropertyDescriptor(t,e);n.value=r,Object.defineProperty(t,e,n)}else t[e]=r}},w=function(t,e){Object.keys(e).forEach(function(r){var n=e[r];d(t,r,n,!1)})},O=Object.create||function(t,e){function r(){}r.prototype=t;var n=new r;return"undefined"!=typeof e&&w(n,e),n},j=g.symbol(v.iterator)?v.iterator:"_es6-shim iterator_";u.Set&&"function"==typeof(new u.Set)["@@iterator"]&&(j="@@iterator");var T=function(t,e){e||(e=function(){return this});var r={};r[j]=e,w(t,r),!t[j]&&g.symbol(j)&&(t[j]=e)},M=function(t){var e=p(t),r="[object Arguments]"===e;return r||(r="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===p(t.callee)),r},I=Function.call.bind(Function.apply),_={Call:function(t,e){var r=arguments.length>2?arguments[2]:[];if(!_.IsCallable(t))throw new TypeError(t+" is not a function");return I(t,e,r)},RequireObjectCoercible:function(t,e){if(null==t)throw new TypeError(e||"Cannot call method on "+t)},TypeIsObject:function(t){return null!=t&&Object(t)===t},ToObject:function(t,e){return _.RequireObjectCoercible(t,e),Object(t)},IsCallable:function(t){return"function"==typeof t&&"[object Function]"===p(t)},ToInt32:function(t){return _.ToNumber(t)>>0},ToUint32:function(t){return _.ToNumber(t)>>>0},ToNumber:function(t){if("[object Symbol]"===p(t))throw new TypeError("Cannot convert a Symbol value to a number");return+t},ToInteger:function(t){var e=_.ToNumber(t);return Number.isNaN(e)?0:0!==e&&Number.isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},ToLength:function(t){var e=_.ToInteger(t);return 0>=e?0:e>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e},SameValue:function(t,e){return t===e?0===t?1/t===1/e:!0:Number.isNaN(t)&&Number.isNaN(e)},SameValueZero:function(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)},IsIterable:function(t){return _.TypeIsObject(t)&&("undefined"!=typeof t[j]||M(t))},GetIterator:function(t){if(M(t))return new e(t,"value");var r=t[j];if(!_.IsCallable(r))throw new TypeError("value is not an iterable");var n=r.call(t);if(!_.TypeIsObject(n))throw new TypeError("bad iterator");return n},IteratorNext:function(t){var e=arguments.length>1?t.next(arguments[1]):t.next();if(!_.TypeIsObject(e))throw new TypeError("bad iterator");return e},Construct:function(t,e){var r;r=_.IsCallable(t[b])?t[b]():O(t.prototype||null),w(r,{_es6construct:!0});var n=_.Call(t,r,e);return _.TypeIsObject(n)?n:r},CreateHTML:function(t,e,r,n){var o=String(t),i="<"+e;if(""!==r){var a=String(n),u=a.replace(/"/g,"&quot;");i+=" "+r+'="'+u+'"'}var s=i+">",c=s+o;return c+"</"+e+">"}},E=function(t){if(!_.TypeIsObject(t))throw new TypeError("bad object");return t._es6construct||(t.constructor&&_.IsCallable(t.constructor[b])&&(t=t.constructor[b](t)),w(t,{_es6construct:!0})),t},S=function(){function t(t){var e=Math.floor(t),r=t-e;return.5>r?e:r>.5?e+1:e%2?e+1:e}function e(e,r,n){var o,i,a,u,s,c,f,l=(1<<r-1)-1;for(e!==e?(i=(1<<r)-1,a=Math.pow(2,n-1),o=0):1/0===e||e===-1/0?(i=(1<<r)-1,a=0,o=0>e?1:0):0===e?(i=0,a=0,o=1/e===-1/0?1:0):(o=0>e,e=Math.abs(e),e>=Math.pow(2,1-l)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),a=t(e/Math.pow(2,i)*Math.pow(2,n)),a/Math.pow(2,n)>=2&&(i+=1,a=1),i>l?(i=(1<<r)-1,a=0):(i+=l,a-=Math.pow(2,n))):(i=0,a=t(e/Math.pow(2,1-l-n)))),s=[],u=n;u;u-=1)s.push(a%2?1:0),a=Math.floor(a/2);for(u=r;u;u-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(s.push(o?1:0),s.reverse(),c=s.join(""),f=[];c.length;)f.push(parseInt(c.slice(0,8),2)),c=c.slice(8);return f}function r(t,e,r){var n,o,i,a,u,s,c,f,l=[];for(n=t.length;n;n-=1)for(i=t[n-1],o=8;o;o-=1)l.push(i%2?1:0),i>>=1;return l.reverse(),a=l.join(""),u=(1<<e-1)-1,s=parseInt(a.slice(0,1),2)?-1:1,c=parseInt(a.slice(1,1+e),2),f=parseInt(a.slice(1+e),2),c===(1<<e)-1?0!==f?0/0:1/0*s:c>0?s*Math.pow(2,c-u)*(1+f/Math.pow(2,r)):0!==f?s*Math.pow(2,-(u-1))*(f/Math.pow(2,r)):0>s?-0:0}function n(t){return r(t,8,23)}function o(t){return e(t,8,23)}var i={toFloat32:function(t){return n(o(t))}};if("undefined"!=typeof Float32Array){var a=new Float32Array(1);i.toFloat32=function(t){return a[0]=t,a[0]}}return i}();if(w(String,{fromCodePoint:function(){for(var t,e=[],r=0,n=arguments.length;n>r;r++){if(t=Number(arguments[r]),!_.SameValue(t,_.ToInteger(t))||0>t||t>1114111)throw new RangeError("Invalid code point "+t);65536>t?e.push(String.fromCharCode(t)):(t-=65536,e.push(String.fromCharCode((t>>10)+55296)),e.push(String.fromCharCode(t%1024+56320)))}return e.join("")},raw:function(t){var e=_.ToObject(t,"bad callSite"),r=e.raw,n=_.ToObject(r,"bad raw value"),o=n.length,i=_.ToLength(o);if(0>=i)return"";for(var a,u,s,c,f=[],l=0;i>l&&(a=String(l),u=n[a],s=String(u),f.push(s),!(l+1>=i));)u=l+1<arguments.length?arguments[l+1]:"",c=String(u),f.push(c),l++;return f.join("")}}),1!==String.fromCodePoint.length){var x=Function.apply.bind(String.fromCodePoint);d(String,"fromCodePoint",function(){return x(this,arguments)},!0)}var N=function Oe(t,e){if(1>e)return"";if(e%2)return Oe(t,e-1)+t;var r=Oe(t,e/2);return r+r},C=1/0,P={repeat:function(t){_.RequireObjectCoercible(this);var e=String(this);if(t=_.ToInteger(t),0>t||t>=C)throw new RangeError("repeat count must be less than infinity and not overflow maximum string size");return N(e,t)},startsWith:function(t){_.RequireObjectCoercible(this);var e=String(this);if(g.regex(t))throw new TypeError('Cannot call method "startsWith" with a regex');t=String(t);var r=arguments.length>1?arguments[1]:void 0,n=Math.max(_.ToInteger(r),0);return e.slice(n,n+t.length)===t},endsWith:function(t){_.RequireObjectCoercible(this);var e=String(this);if(g.regex(t))throw new TypeError('Cannot call method "endsWith" with a regex');t=String(t);var r=e.length,n=arguments.length>1?arguments[1]:void 0,o="undefined"==typeof n?r:_.ToInteger(n),i=Math.min(Math.max(o,0),r);return e.slice(i-t.length,i)===t},includes:function(t){var e=arguments.length>1?arguments[1]:void 0;return-1!==l(this,t,e)},codePointAt:function(t){_.RequireObjectCoercible(this);var e=String(this),r=_.ToInteger(t),n=e.length;if(r>=0&&n>r){var o=e.charCodeAt(r),i=r+1===n;if(55296>o||o>56319||i)return o;var a=e.charCodeAt(r+1);return 56320>a||a>57343?o:1024*(o-55296)+(a-56320)+65536}}};w(String.prototype,P);var k=1!=="".trim().length;if(k){delete String.prototype.trim;var A=["	\n\f\r   ᠎    ","         　\u2028","\u2029﻿"].join(""),R=new RegExp("(^["+A+"]+)|(["+A+"]+$)","g");w(String.prototype,{trim:function(){if("undefined"==typeof this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(R,"")}})}var L=function(t){_.RequireObjectCoercible(t),this._s=String(t),this._i=0};L.prototype.next=function(){var t=this._s,e=this._i;if("undefined"==typeof t||e>=t.length)return this._s=void 0,{value:void 0,done:!0};var r,n,o=t.charCodeAt(e);return 55296>o||o>56319||e+1===t.length?n=1:(r=t.charCodeAt(e+1),n=56320>r||r>57343?1:2),this._i=e+n,{value:t.substr(e,n),done:!1}},T(L.prototype),T(String.prototype,function(){return new L(this)}),f||(d(String.prototype,"startsWith",P.startsWith,!0),d(String.prototype,"endsWith",P.endsWith,!0));var F={from:function(t){var e=arguments.length>1?arguments[1]:void 0,r=_.ToObject(t,"bad iterable");if("undefined"!=typeof e&&!_.IsCallable(e))throw new TypeError("Array.from: when provided, the second argument must be a function");var n,o,i,a,u=arguments.length>2,s=u?arguments[2]:void 0,c=_.IsIterable(r);if(c){i=0,o=_.IsCallable(this)?Object(new this):[];var f,l=c?_.GetIterator(r):null;do f=_.IteratorNext(l),f.done||(a=f.value,o[i]=e?u?e.call(s,a,i):e(a,i):a,i+=1);while(!f.done);n=i}else for(n=_.ToLength(r.length),o=_.IsCallable(this)?Object(new this(n)):new Array(n),i=0;n>i;++i)a=r[i],o[i]=e?u?e.call(s,a,i):e(a,i):a;return o.length=n,o},of:function(){return Array.from(arguments)}};w(Array,F);var D=function(){try{return 0===Array.from({length:-1}).length}catch(t){return!1}};D()||d(Array,"from",F.from,!0);var z=function(t){return{value:t,done:0===arguments.length}};e=function(t,e){this.i=0,this.array=t,this.kind=e},w(e.prototype,{next:function(){var t=this.i,r=this.array;if(!(this instanceof e))throw new TypeError("Not an ArrayIterator");if("undefined"!=typeof r)for(var n=_.ToLength(r.length);n>t;t++){var o,i=this.kind;return"key"===i?o=t:"value"===i?o=r[t]:"entry"===i&&(o=[t,r[t]]),this.i=t+1,{value:o,done:!1}}return this.array=void 0,{value:void 0,done:!0}}}),T(e.prototype);var q=function(t,e){this.object=t,this.array=null,this.kind=e};w(q.prototype,{next:function(){var e,r=this.array;if(!(this instanceof q))throw new TypeError("Not an ObjectIterator");for(null===r&&(r=this.array=t(this.object));_.ToLength(r.length)>0;)if(e=r.shift(),e in this.object)return z("key"===this.kind?e:"value"===this.kind?this.object[e]:[e,this.object[e]]);return z()}}),T(q.prototype);var H={copyWithin:function(t,e){var r=arguments[2],n=_.ToObject(this),o=_.ToLength(n.length);t=_.ToInteger(t),e=_.ToInteger(e);var i=0>t?Math.max(o+t,0):Math.min(t,o),a=0>e?Math.max(o+e,0):Math.min(e,o);r="undefined"==typeof r?o:_.ToInteger(r);var u=0>r?Math.max(o+r,0):Math.min(r,o),s=Math.min(u-a,o-i),c=1;for(i>a&&a+s>i&&(c=-1,a+=s-1,i+=s-1);s>0;)h(n,a)?n[i]=n[a]:delete n[a],a+=c,i+=c,s-=1;return n},fill:function(t){var e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=_.ToObject(this),o=_.ToLength(n.length);e=_.ToInteger("undefined"==typeof e?0:e),r=_.ToInteger("undefined"==typeof r?o:r);for(var i=0>e?Math.max(o+e,0):Math.min(e,o),a=0>r?o+r:r,u=i;o>u&&a>u;++u)n[u]=t;return n},find:function(t){var e=_.ToObject(this),r=_.ToLength(e.length);if(!_.IsCallable(t))throw new TypeError("Array#find: predicate must be a function");for(var n,o=arguments.length>1?arguments[1]:null,i=0;r>i;i++)if(n=e[i],o){if(t.call(o,n,i,e))return n}else if(t(n,i,e))return n},findIndex:function(t){var e=_.ToObject(this),r=_.ToLength(e.length);if(!_.IsCallable(t))throw new TypeError("Array#findIndex: predicate must be a function");for(var n=arguments.length>1?arguments[1]:null,o=0;r>o;o++)if(n){if(t.call(n,e[o],o,e))return o}else if(t(e[o],o,e))return o;return-1},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"entry")}};Array.prototype.keys&&!_.IsCallable([1].keys().next)&&delete Array.prototype.keys,Array.prototype.entries&&!_.IsCallable([1].entries().next)&&delete Array.prototype.entries,Array.prototype.keys&&Array.prototype.entries&&!Array.prototype.values&&Array.prototype[j]&&(w(Array.prototype,{values:Array.prototype[j]}),g.symbol(v.unscopables)&&(Array.prototype[v.unscopables].values=!0)),w(Array.prototype,H),T(Array.prototype,function(){return this.values()}),Object.getPrototypeOf&&T(Object.getPrototypeOf([].values()));var G=Math.pow(2,53)-1;w(Number,{MAX_SAFE_INTEGER:G,MIN_SAFE_INTEGER:-G,EPSILON:2.220446049250313e-16,parseInt:u.parseInt,parseFloat:u.parseFloat,isFinite:function(t){return"number"==typeof t&&s(t)},isInteger:function(t){return Number.isFinite(t)&&_.ToInteger(t)===t},isSafeInteger:function(t){return Number.isInteger(t)&&Math.abs(t)<=Number.MAX_SAFE_INTEGER},isNaN:function(t){return t!==t}}),[,1].find(function(t,e){return 0===e})||d(Array.prototype,"find",H.find,!0),0!==[,1].findIndex(function(t,e){return 0===e})&&d(Array.prototype,"findIndex",H.findIndex,!0),c&&w(Object,{assign:function(t){if(!_.TypeIsObject(t))throw new TypeError("target must be an object");return Array.prototype.reduce.call(arguments,function(t,e){return Object.keys(Object(e)).reduce(function(t,r){return t[r]=e[r],t},t)})},is:function(t,e){return _.SameValue(t,e)},setPrototypeOf:function(t,e){var r,n=function(t,e){if(!_.TypeIsObject(t))throw new TypeError("cannot set prototype on a non-object");if(null!==e&&!_.TypeIsObject(e))throw new TypeError("can only set prototype to an object or null"+e)},o=function(t,e){return n(t,e),r.call(t,e),t};try{r=t.getOwnPropertyDescriptor(t.prototype,e).set,r.call({},null)}catch(i){if(t.prototype!=={}[e])return;r=function(t){this[e]=t},o.polyfill=o(o({},null),t.prototype)instanceof t}return o}(Object,"__proto__")}),Object.setPrototypeOf&&Object.getPrototypeOf&&null!==Object.getPrototypeOf(Object.setPrototypeOf({},null))&&null===Object.getPrototypeOf(Object.create(null))&&!function(){var t=Object.create(null),e=Object.getPrototypeOf,r=Object.setPrototypeOf;Object.getPrototypeOf=function(r){var n=e(r);return n===t?null:n},Object.setPrototypeOf=function(e,n){return null===n&&(n=t),r(e,n)},Object.setPrototypeOf.polyfill=!1}();var W=function(){try{return Object.keys("foo"),!0}catch(t){return!1}}();if(!W){var V=Object.keys;d(Object,"keys",function(t){return V(_.ToObject(t))},!0)}if(Object.getOwnPropertyNames){var U=function(){try{return Object.getOwnPropertyNames("foo"),!0}catch(t){return!1}}();if(!U){var X=Object.getOwnPropertyNames;d(Object,"getOwnPropertyNames",function(t){return X(_.ToObject(t))},!0)}}if(!RegExp.prototype.flags&&c){var Z=function(){if(!_.TypeIsObject(this))throw new TypeError("Method called on incompatible type: must be an object.");var t="";return this.global&&(t+="g"),this.ignoreCase&&(t+="i"),this.multiline&&(t+="m"),this.unicode&&(t+="u"),this.sticky&&(t+="y"),t};m.getter(RegExp.prototype,"flags",Z)}var $=function(){try{return"/a/i"===String(new RegExp(/a/g,"i"))}catch(t){return!1}}();if(!$&&c){var K=RegExp,B=function je(t,e){return g.regex(t)&&g.string(e)?new je(t.source,e):new K(t,e)};d(B,"toString",K.toString.bind(K),!0),Object.setPrototypeOf&&Object.setPrototypeOf(K,B),Object.getOwnPropertyNames(K).forEach(function(t){"$input"!==t&&(t in y||m.proxy(K,t,B))}),B.prototype=K.prototype,m.redefine(K.prototype,"constructor",B),RegExp=B,m.redefine(u,"RegExp",B)}var J={acosh:function(t){var e=Number(t);return Number.isNaN(e)||1>t?0/0:1===e?0:1/0===e?e:Math.log(e/Math.E+Math.sqrt(e+1)*Math.sqrt(e-1)/Math.E)+1},asinh:function(t){return t=Number(t),0!==t&&s(t)?0>t?-Math.asinh(-t):Math.log(t+Math.sqrt(t*t+1)):t},atanh:function(t){return t=Number(t),Number.isNaN(t)||-1>t||t>1?0/0:-1===t?-1/0:1===t?1/0:0===t?t:.5*Math.log((1+t)/(1-t))},cbrt:function(t){if(t=Number(t),0===t)return t;var e,r=0>t;return r&&(t=-t),e=Math.pow(t,1/3),r?-e:e},clz32:function(t){t=Number(t);var e=_.ToUint32(t);return 0===e?32:32-e.toString(2).length},cosh:function(t){return t=Number(t),0===t?1:Number.isNaN(t)?0/0:s(t)?(0>t&&(t=-t),t>21?Math.exp(t)/2:(Math.exp(t)+Math.exp(-t))/2):1/0},expm1:function(t){var e=Number(t);if(e===-1/0)return-1;if(!s(e)||0===t)return e;if(Math.abs(e)>.5)return Math.exp(e)-1;for(var r=e,n=0,o=1;n+r!==n;)n+=r,o+=1,r*=e/o;return n},hypot:function(){var t=!1,e=!0,r=!1,n=[];if(Array.prototype.every.call(arguments,function(o){var i=Number(o);return Number.isNaN(i)?t=!0:1/0===i||i===-1/0?r=!0:0!==i&&(e=!1),r?!1:(t||n.push(Math.abs(i)),!0)}),r)return 1/0;if(t)return 0/0;if(e)return 0;n.sort(function(t,e){return e-t});var o=n[0],i=n.map(function(t){return t/o}),a=i.reduce(function(t,e){return t+e*e},0);return o*Math.sqrt(a)},log2:function(t){return Math.log(t)*Math.LOG2E},log10:function(t){return Math.log(t)*Math.LOG10E},log1p:function(t){var e=Number(t);return-1>e||Number.isNaN(e)?0/0:0===e||1/0===e?e:-1===e?-1/0:1+e-1===0?e:e*(Math.log(1+e)/(1+e-1))},sign:function(t){var e=+t;return 0===e?e:Number.isNaN(e)?e:0>e?-1:1},sinh:function(t){var e=Number(t);return s(t)&&0!==t?Math.abs(e)<1?(Math.expm1(e)-Math.expm1(-e))/2:(Math.exp(e-1)-Math.exp(-e-1))*Math.E/2:t},tanh:function(t){var e=Number(t);if(Number.isNaN(t)||0===e)return e;if(1/0===e)return 1;if(e===-1/0)return-1;var r=Math.expm1(e),n=Math.expm1(-e);return 1/0===r?1:1/0===n?-1:(r-n)/(Math.exp(e)+Math.exp(-e))},trunc:function(t){var e=Number(t);return 0>e?-Math.floor(-e):Math.floor(e)},imul:function(t,e){t=_.ToUint32(t),e=_.ToUint32(e);var r=t>>>16&65535,n=65535&t,o=e>>>16&65535,i=65535&e;return n*i+(r*i+n*o<<16>>>0)|0},fround:function(t){if(0===t||1/0===t||t===-1/0||Number.isNaN(t))return t;var e=Number(t);return S.toFloat32(e)}};w(Math,J),d(Math,"tanh",J.tanh,-2e-17!==Math.tanh(-2e-17)),d(Math,"acosh",J.acosh,1/0===Math.acosh(Number.MAX_VALUE)),d(Math,"sinh",J.sinh,-2e-17!==Math.sinh(-2e-17));var Q=Math.expm1(10);d(Math,"expm1",J.expm1,Q>22025.465794806718||22025.465794806718>Q);var Y=0===Math.round(.5-Number.EPSILON/4)&&1===Math.round(-.5+Number.EPSILON/3.99),te=Math.round;d(Math,"round",function(t){return t>=-.5&&.5>t&&0!==t?Math.sign(0*t):te(t)},!Y),-5!==Math.imul(4294967295,5)&&(Math.imul=J.imul);var ee=function(){var t,e;_.IsPromise=function(t){return _.TypeIsObject(t)&&t._promiseConstructor?"undefined"==typeof t._status?!1:!0:!1};var r,n=function(t){if(!_.IsCallable(t))throw new TypeError("bad promise constructor");var e=this,r=function(t,r){e.resolve=t,e.reject=r};if(e.promise=_.Construct(t,[r]),!e.promise._es6construct)throw new TypeError("bad promise constructor");if(!_.IsCallable(e.resolve)||!_.IsCallable(e.reject))throw new TypeError("bad promise constructor")},o=u.setTimeout;"undefined"!=typeof window&&_.IsCallable(window.postMessage)&&(r=function(){var t=[],e="zero-timeout-message",r=function(r){t.push(r),window.postMessage(e,"*")},n=function(r){if(r.source===window&&r.data===e){if(r.stopPropagation(),0===t.length)return;var n=t.shift();n()}};return window.addEventListener("message",n,!0),r});var i=function(){var t=u.Promise;return t&&t.resolve&&function(e){return t.resolve().then(e)}},a=_.IsCallable(u.setImmediate)?u.setImmediate.bind(u):"object"==typeof process&&process.nextTick?process.nextTick:i()||(_.IsCallable(r)?r():function(t){o(t,0)}),s=function(t,e){if(!_.TypeIsObject(t))return!1;var r=e.resolve,n=e.reject;try{var o=t.then;if(!_.IsCallable(o))return!1;o.call(t,r,n)}catch(i){n(i)}return!0},c=function(t,e){t.forEach(function(t){a(function(){var r=t.handler,n=t.capability,o=n.resolve,i=n.reject;try{var a=r(e);if(a===n.promise)throw new TypeError("self resolution");var u=s(a,n);u||o(a)}catch(c){i(c)}})})},f=function(t,e,r){return function(o){if(o===t)return r(new TypeError("self resolution"));var i=t._promiseConstructor,a=new n(i),u=s(o,a);return u?a.promise.then(e,r):e(o)}};t=function(t){var e=this;if(e=E(e),!e._promiseConstructor)throw new TypeError("bad promise");if("undefined"!=typeof e._status)throw new TypeError("promise already initialized");if(!_.IsCallable(t))throw new TypeError("not a valid resolver");e._status="unresolved",e._resolveReactions=[],e._rejectReactions=[];var r=function(t){if("unresolved"===e._status){var r=e._resolveReactions;e._result=t,e._resolveReactions=void 0,e._rejectReactions=void 0,e._status="has-resolution",c(r,t)}},n=function(t){if("unresolved"===e._status){var r=e._rejectReactions;e._result=t,e._resolveReactions=void 0,e._rejectReactions=void 0,e._status="has-rejection",c(r,t)}};try{t(r,n)}catch(o){n(o)}return e},e=t.prototype;var l=function(t,e,r,n){var o=!1;return function(i){if(!o&&(o=!0,e[t]=i,0===--n.count)){var a=r.resolve;a(e)}}};return d(t,b,function(t){var r=this,n=r.prototype||e;return t=t||O(n),w(t,{_status:void 0,_result:void 0,_resolveReactions:void 0,_rejectReactions:void 0,_promiseConstructor:void 0}),t._promiseConstructor=r,t}),w(t,{all:function(t){var e=this,r=new n(e),o=r.resolve,i=r.reject;try{if(!_.IsIterable(t))throw new TypeError("bad iterable");for(var a=_.GetIterator(t),u=[],s={count:1},c=0;;c++){var f=_.IteratorNext(a);if(f.done)break;var p=e.resolve(f.value),h=l(c,u,r,s);s.count++,p.then(h,r.reject)}0===--s.count&&o(u)}catch(y){i(y)}return r.promise},race:function(t){var e=this,r=new n(e),o=r.resolve,i=r.reject;try{if(!_.IsIterable(t))throw new TypeError("bad iterable");for(var a=_.GetIterator(t);;){var u=_.IteratorNext(a);if(u.done)break;var s=e.resolve(u.value);s.then(o,i)}}catch(c){i(c)}return r.promise},reject:function(t){var e=this,r=new n(e),o=r.reject;return o(t),r.promise},resolve:function(t){var e=this;if(_.IsPromise(t)){var r=t._promiseConstructor;if(r===e)return t}var o=new n(e),i=o.resolve;return i(t),o.promise}}),w(e,{"catch":function(t){return this.then(void 0,t)},then:function(t,e){var r=this;if(!_.IsPromise(r))throw new TypeError("not a promise");var o=this.constructor,i=new n(o);_.IsCallable(e)||(e=function(t){throw t}),_.IsCallable(t)||(t=function(t){return t});var a=f(r,t,e),u={capability:i,handler:a},s={capability:i,handler:e};switch(r._status){case"unresolved":r._resolveReactions.push(u),r._rejectReactions.push(s);break;case"has-resolution":c([u],r._result);break;case"has-rejection":c([s],r._result);break;default:throw new TypeError("unexpected")}return i.promise}}),t}();u.Promise&&(delete u.Promise.accept,delete u.Promise.defer,delete u.Promise.prototype.chain),w(u,{Promise:ee});var re=n(u.Promise,function(t){return t.resolve(42)instanceof t}),ne=function(){try{return u.Promise.reject(42).then(null,5).then(null,y),!0}catch(t){return!1}}(),oe=function(){try{Promise.call(3,y)}catch(t){return!0}return!1}();re&&ne&&oe||(Promise=ee,d(u,"Promise",ee,!0));var ie=function(t){var e=Object.keys(t.reduce(function(t,e){return t[e]=!0,t},{}));return t.join(":")===e.join(":")},ae=ie(["z","a","bb"]),ue=ie(["z",1,"a","3",2]);if(c){var se=function(t){if(!ae)return null;var e=typeof t;return"string"===e?"$"+t:"number"===e?ue?t:"n"+t:null},ce=function(){return Object.create?Object.create(null):{}},fe={Map:function(){function t(t,e){this.key=t,this.value=e,this.next=null,this.prev=null}function e(t,e){this.head=t._head,this.i=this.head,this.kind=e}function r(e){var r=this;if(!_.TypeIsObject(r))throw new TypeError("Map does not accept arguments when called as a function");if(r=E(r),!r._es6map)throw new TypeError("bad map");var n=new t(null,null);if(n.next=n.prev=n,w(r,{_head:n,_storage:ce(),_size:0}),"undefined"!=typeof e&&null!==e){var o=_.GetIterator(e),i=r.set;if(!_.IsCallable(i))throw new TypeError("bad map");for(;;){var a=_.IteratorNext(o);if(a.done)break;var u=a.value;if(!_.TypeIsObject(u))throw new TypeError("expected iterable of pairs");i.call(r,u[0],u[1])}}return r}var n={};t.prototype.isRemoved=function(){return this.key===n},e.prototype={next:function(){var t,e=this.i,r=this.kind,n=this.head;if("undefined"==typeof this.i)return{value:void 0,done:!0};for(;e.isRemoved()&&e!==n;)e=e.prev;for(;e.next!==n;)if(e=e.next,!e.isRemoved())return t="key"===r?e.key:"value"===r?e.value:[e.key,e.value],this.i=e,{value:t,done:!1};return this.i=void 0,{value:void 0,done:!0}}},T(e.prototype);var o=r.prototype;return d(r,b,function(t){var e=this,r=e.prototype||o;return t=t||O(r),w(t,{_es6map:!0}),t}),m.getter(r.prototype,"size",function(){if("undefined"==typeof this._size)throw new TypeError("size method called on incompatible Map");return this._size}),w(r.prototype,{get:function(t){var e=se(t);if(null!==e){var r=this._storage[e];return r?r.value:void 0}for(var n=this._head,o=n;(o=o.next)!==n;)if(_.SameValueZero(o.key,t))return o.value},has:function(t){var e=se(t);if(null!==e)return"undefined"!=typeof this._storage[e];for(var r=this._head,n=r;(n=n.next)!==r;)if(_.SameValueZero(n.key,t))return!0;return!1},set:function(e,r){var n,o=this._head,i=o,a=se(e);if(null!==a){if("undefined"!=typeof this._storage[a])return this._storage[a].value=r,this;n=this._storage[a]=new t(e,r),i=o.prev}for(;(i=i.next)!==o;)if(_.SameValueZero(i.key,e))return i.value=r,this;return n=n||new t(e,r),_.SameValue(-0,e)&&(n.key=0),n.next=this._head,n.prev=this._head.prev,n.prev.next=n,n.next.prev=n,this._size+=1,this},"delete":function(t){var e=this._head,r=e,o=se(t);if(null!==o){if("undefined"==typeof this._storage[o])return!1;r=this._storage[o].prev,delete this._storage[o]}for(;(r=r.next)!==e;)if(_.SameValueZero(r.key,t))return r.key=r.value=n,r.prev.next=r.next,r.next.prev=r.prev,this._size-=1,!0;return!1},clear:function(){this._size=0,this._storage=ce();for(var t=this._head,e=t,r=e.next;(e=r)!==t;)e.key=e.value=n,r=e.next,e.next=e.prev=t;t.next=t.prev=t},keys:function(){return new e(this,"key")},values:function(){return new e(this,"value")},entries:function(){return new e(this,"key+value")},forEach:function(t){for(var e=arguments.length>1?arguments[1]:null,r=this.entries(),n=r.next();!n.done;n=r.next())e?t.call(e,n.value[1],n.value[0],this):t(n.value[1],n.value[0],this)}}),T(r.prototype,function(){return this.entries()}),r}(),Set:function(){var t=function(t){var e=this;if(!_.TypeIsObject(e))throw new TypeError("Set does not accept arguments when called as a function");if(e=E(e),!e._es6set)throw new TypeError("bad set");if(w(e,{"[[SetData]]":null,_storage:ce()}),"undefined"!=typeof t&&null!==t){var r=_.GetIterator(t),n=e.add;if(!_.IsCallable(n))throw new TypeError("bad set");for(;;){var o=_.IteratorNext(r);if(o.done)break;var i=o.value;n.call(e,i)}}return e},e=t.prototype;d(t,b,function(t){var r=this,n=r.prototype||e;return t=t||O(n),w(t,{_es6set:!0}),t});var r=function(t){if(!t["[[SetData]]"]){var e=t["[[SetData]]"]=new fe.Map;Object.keys(t._storage).forEach(function(t){t=36===t.charCodeAt(0)?t.slice(1):"n"===t.charAt(0)?+t.slice(1):+t,e.set(t,t)}),t._storage=null}};return m.getter(t.prototype,"size",function(){if("undefined"==typeof this._storage)throw new TypeError("size method called on incompatible Set");return r(this),this["[[SetData]]"].size}),w(t.prototype,{has:function(t){var e;return this._storage&&null!==(e=se(t))?!!this._storage[e]:(r(this),this["[[SetData]]"].has(t))},add:function(t){var e;return this._storage&&null!==(e=se(t))?(this._storage[e]=!0,this):(r(this),this["[[SetData]]"].set(t,t),this)},"delete":function(t){var e;if(this._storage&&null!==(e=se(t))){var n=h(this._storage,e);return delete this._storage[e]&&n}return r(this),this["[[SetData]]"]["delete"](t)},clear:function(){this._storage?this._storage=ce():this["[[SetData]]"].clear()},values:function(){return r(this),this["[[SetData]]"].values()},entries:function(){return r(this),this["[[SetData]]"].entries()},forEach:function(t){var e=arguments.length>1?arguments[1]:null,n=this;r(n),this["[[SetData]]"].forEach(function(r,o){e?t.call(e,o,o,n):t(o,o,n)})}}),d(t,"keys",t.values,!0),T(t.prototype,function(){return this.values()}),t}()};w(u,fe),(u.Map||u.Set)&&("function"!=typeof u.Map.prototype.clear||0!==(new u.Set).size||0!==(new u.Map).size||"function"!=typeof u.Map.prototype.keys||"function"!=typeof u.Set.prototype.keys||"function"!=typeof u.Map.prototype.forEach||"function"!=typeof u.Set.prototype.forEach||r(u.Map)||r(u.Set)||!n(u.Map,function(t){var e=new t([]);return e.set(42,42),e instanceof t}))&&(u.Map=fe.Map,u.Set=fe.Set),u.Set.prototype.keys!==u.Set.prototype.values&&d(u.Set.prototype,"keys",u.Set.prototype.values,!0),T(Object.getPrototypeOf((new u.Map).keys())),T(Object.getPrototypeOf((new u.Set).keys()))}u.Reflect||d(u,"Reflect",{});var le=u.Reflect,pe=function(t){if(!_.TypeIsObject(t))throw new TypeError("target must be an object")};if(w(u.Reflect,{apply:function(){return _.Call.apply(null,arguments)},construct:function(t,e){if(!_.IsCallable(t))throw new TypeError("First argument must be callable.");return _.Construct(t,e)},deleteProperty:function(t,e){if(pe(t),c){var r=Object.getOwnPropertyDescriptor(t,e);if(r&&!r.configurable)return!1}return delete t[e]},enumerate:function(t){return pe(t),new q(t,"key")},has:function(t,e){return pe(t),e in t}}),Object.getOwnPropertyNames&&w(u.Reflect,{ownKeys:function(t){pe(t);var e=Object.getOwnPropertyNames(t);return _.IsCallable(Object.getOwnPropertySymbols)&&e.push.apply(e,Object.getOwnPropertySymbols(t)),e}}),Object.preventExtensions&&w(u.Reflect,{isExtensible:function(t){return pe(t),Object.isExtensible(t)},preventExtensions:function(t){return pe(t),ve(function(){Object.preventExtensions(t)})}}),c){var he=function(t,e,r){var n=Object.getOwnPropertyDescriptor(t,e);if(!n){var o=Object.getPrototypeOf(t);return null===o?void 0:he(o,e,r)}return"value"in n?n.value:n.get?n.get.call(r):void 0},ye=function(t,e,r,n){var o=Object.getOwnPropertyDescriptor(t,e);if(!o){var i=Object.getPrototypeOf(t);if(null!==i)return ye(i,e,r,n);o={value:void 0,writable:!0,enumerable:!0,configurable:!0}}if("value"in o){if(!o.writable)return!1;if(!_.TypeIsObject(n))return!1;var a=Object.getOwnPropertyDescriptor(n,e);return a?le.defineProperty(n,e,{value:r}):le.defineProperty(n,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}return o.set?(o.set.call(n,r),!0):!1},ve=function(t){try{t()}catch(e){return!1}return!0};w(u.Reflect,{defineProperty:function(t,e,r){return pe(t),ve(function(){Object.defineProperty(t,e,r)})},getOwnPropertyDescriptor:function(t,e){return pe(t),Object.getOwnPropertyDescriptor(t,e)},get:function(t,e){pe(t);var r=arguments.length>2?arguments[2]:t;return he(t,e,r)},set:function(t,e,r){pe(t);var n=arguments.length>3?arguments[3]:t;return ye(t,e,r,n)}})}if(Object.getPrototypeOf){var be=Object.getPrototypeOf;w(u.Reflect,{getPrototypeOf:function(t){return pe(t),be(t)}})}if(Object.setPrototypeOf){var ge=function(t,e){for(;e;){if(t===e)return!0;e=le.getPrototypeOf(e)}return!1};w(u.Reflect,{setPrototypeOf:function(t,e){if(pe(t),null!==e&&!_.TypeIsObject(e))throw new TypeError("proto must be an object or null");return e===le.getPrototypeOf(t)?!0:le.isExtensible&&!le.isExtensible(t)?!1:ge(t,e)?!1:(Object.setPrototypeOf(t,e),!0)}})}if("Invalid Date"!==String(new Date(0/0))){var de=Date.prototype.toString,me=function(){var t=+this;return t!==t?"Invalid Date":de.call(this)};d(me,"toString",de.toString,!0),d(Date.prototype,"toString",me,!0)}var we={anchor:function(t){return _.CreateHTML(this,"a","name",t)},big:function(){return _.CreateHTML(this,"big","","")},blink:function(){return _.CreateHTML(this,"blink","","")},bold:function(){return _.CreateHTML(this,"b","","")},fixed:function(){return _.CreateHTML(this,"tt","","")},fontcolor:function(t){return _.CreateHTML(this,"font","color",t)},fontsize:function(t){return _.CreateHTML(this,"font","size",t)},italics:function(){return _.CreateHTML(this,"i","","")},link:function(t){return _.CreateHTML(this,"a","href",t)},small:function(){return _.CreateHTML(this,"small","","")},strike:function(){return _.CreateHTML(this,"strike","","")},sub:function(){return _.CreateHTML(this,"sub","","")},sup:function(){return _.CreateHTML(this,"sup","","")}};return w(String.prototype,we),Object.keys(we).forEach(function(t){var e=String.prototype[t],r=!1;if(_.IsCallable(e)){var n=e.call("",' " '),o=[].concat(n.match(/"/g)).length;r=n!==n.toLowerCase()||o>2}else r=!0;r&&d(String.prototype,t,we[t],!0)}),u});!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.returnExports=e()}(this,function(){"use strict";var t=new Function("return this;"),e=t(),o=e.Object;!function(){if(!o.setPrototypeOf){var t,e,n=function(t,e){return u(e).forEach(function(o){f(t,o,_(e,o))}),t},r=function(t,e){return n(c(e),t)},c=o.create,f=o.defineProperty,i=o.getPrototypeOf,u=o.getOwnPropertyNames,_=o.getOwnPropertyDescriptor,p=o.prototype;try{t=_(p,"__proto__").set,t.call({},null),e=function(e,o){return t.call(e,o),e}}catch(s){t={__proto__:null},t instanceof o?e=r:(t.__proto__=p,e=t instanceof o?function(t,e){return t.__proto__=e,t}:function(t,e){return i(t)?(t.__proto__=e,t):r(t,e)})}o.setPrototypeOf=e}}()});Object.observe||!function(e,t){"use strict";var n=function(e){var n=e.call(e),r=typeof r;return"object"==typeof t.alert?function(t){return n===e.call(t)||!!t&&typeof t.toString==r&&typeof t.valueOf==r&&/^\s*\bfunction\b/.test(""+t)}:function(t){return n===e.call(t)}}(e.prototype.toString),r=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},i=function(){return!!t.setImmediate}(),o=function(){return i?function(e){return setImmediate(e)}:function(e){return setTimeout(e,10)}}(),c=function(){return i?function(e){clearImmediate(e)}:function(e){clearTimeout(e)}}(),f=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},u=function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t},a=function(e){return"undefined"==typeof e?!1:"get"in e||"set"in e},s=function(e,t,r){if("object"!=typeof e)throw new TypeError("Object.observeObject called on non-object");if(n(t)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(t)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==r&&!Array.isArray(r))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},p=function h(){var e=[],h=function(t,n,r){s(t,n,r),r||(r=["add","update","delete","reconfigure","setPrototype","preventExtensions"]),Object.getNotifier(t).addListener(n,r),-1===e.indexOf(t)?e.push(t):Object.getNotifier(t)._checkPropertyListing()};h.prototype.deliverChangeRecords=function(e){Object.getNotifier(e).deliverChangeRecords()},e.lastScanned=0;var t=function(e){return function t(){var n=0,r=e.length,i=new Date,c=!1;for(n=e.lastScanned;r>n&&!c;n++)g.indexOf(e[n])>-1?(Object.getNotifier(e[n])._checkPropertyListing(),c=new Date-i>100):(e.splice(n,1),n--,r--);e.lastScanned=r>n?n:0,o(t)}}(e);return o(t),h}(),d=function(e){var t=[],n=[],r=[],i=!1,s=[],p=[],d=this;Object.defineProperty(d,"_watching",{enumerable:!0,get:function(e){return function(){return e}}(e)});var l=function(e,t){var n=(typeof e[t],Object.getOwnPropertyDescriptor(e,t));if("getNotifier"===t||a(n)||!n.enumerable)return!1;if(e instanceof Array&&f(t)){var r=s.length;return s[r]=t,p[r]=e[t],!0}return function(t,n){function r(){return p[r.info.idx]}function i(t){u(p[i.info.idx],t)||(Object.getNotifier(e).queueUpdate(e,n,"update",p[i.info.idx]),p[i.info.idx]=t)}s[t]=n,p[t]=e[n],r.info=i.info={idx:t},Object.defineProperty(e,n,{get:r,set:i})}(s.length,t),!0};d._checkPropertyListing=function(e){var t,n,r,i,o,c=d._watching,u=Object.keys(c),a=0,g=u.length,h=s.slice(0),y=!e;for(c instanceof Array&&(o=d._oldLength),a=0;g>a;a++)t=u[a],r=c[t],n=typeof r,-1===(i=s.indexOf(t))?l(c,t)&&y&&d.queueUpdate(c,t,"add",null,c[t]):(c instanceof Array&&!f(t)||p[i]!==r&&(y&&d.queueUpdate(c,t,"update",p[i],r),p[i]=r),h.splice(h.indexOf(t),1));if(c instanceof Array&&c.length!==o&&(y&&d.queueUpdate(c,"length","update",o,c),d._oldLength=c.length),y)for(g=h.length,a=0;g>a;a++){i=s.indexOf(h[a]),d.queueUpdate(c,h[a],"delete",p[i]),s.splice(i,1),p.splice(i,1);for(var a=i;a<s.length;a++)if(s[a]in c){var b=Object.getOwnPropertyDescriptor(c,s[a]).get;if(b){var v=b.info;v.idx=a}}}},d.addListener=function(e,r){var i=t.indexOf(e);-1===i?(t.push(e),n.push(r)):n[i]=r},d.removeListener=function(e){var r=t.indexOf(e);r>-1&&(t.splice(r,1),n.splice(r,1))},d.listeners=function(){return t},d.queueUpdate=function(e,t,n,r){this.queueUpdates([{type:n,object:e,name:t,oldValue:r}])},d.queueUpdates=function(e){var t,n=this,f=0,u=e.length||0;for(f=0;u>f;f++)t=e[f],r.push(t);i&&c(i),i=o(function(){i=!1,n.deliverChangeRecords()})},d.deliverChangeRecords=function(){var e=0,i=t.length;for(e=0;i>e;e++)if(t[e]){var o;if(n[e]){o=[];for(var c=0,f=r.length;f>c;c++)-1!==n[e].indexOf(r[c].type)&&o.push(r[c])}else o=r;o.length&&(t[e]===console.log?console.log(o):t[e](o))}r=[]},d.notify=function(t){if("object"!=typeof t||"string"!=typeof t.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");t.object=e,d.queueUpdates([t])},d._checkPropertyListing(!0)},l=[],g=[];e.getNotifier=function(e){var t=g.indexOf(e),n=t>-1?l[t]:!1;return n||(t=g.length,g[t]=e,n=l[t]=new d(e)),n},e.observe=function(e,t,n){return r(e)?void 0:new p(e,t,n)},e.unobserve=function(e,t){s(e,t);var n=g.indexOf(e),r=n>-1?l[n]:!1;r&&(r.removeListener(t),0===r.listeners().length&&(g.splice(n,1),l.splice(n,1)))}}(Object,this);!function(e,t){"use strict";function n(e){return d[l]=a.apply(t,e),l++}function a(e){var n=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(t,n):new Function(""+e)()}}function r(e){if(p)setTimeout(a(r,e),0);else{var t=d[e];if(t){p=!0;try{t()}finally{s(e),p=!1}}}}function s(e){delete d[e]}function o(){g=function(){var e=n(arguments);return process.nextTick(a(r,e)),e}}function i(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function c(){var t="setImmediate$"+Math.random()+"$",a=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&r(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",a,!1):e.attachEvent("onmessage",a),g=function(){var a=n(arguments);return e.postMessage(t+a,"*"),a}}function u(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;r(t)},g=function(){var t=n(arguments);return e.port2.postMessage(t),t}}function f(){var e=v.documentElement;g=function(){var t=n(arguments),a=v.createElement("script");return a.onreadystatechange=function(){r(t),a.onreadystatechange=null,e.removeChild(a),a=null},e.appendChild(a),t}}function m(){g=function(){var e=n(arguments);return setTimeout(a(r,e),0),e}}if(!e.setImmediate){var g,l=1,d={},p=!1,v=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?o():i()?c():e.MessageChannel?u():v&&"onreadystatechange"in v.createElement("script")?f():m(),h.setImmediate=g,h.clearImmediate=s}}(new Function("return this")());!function(){"use strict";function t(t){if("string"!=typeof t&&(t=t.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function e(t){return"string"!=typeof t&&(t=t.toString()),t}function r(t){this.map={};var e=this;t instanceof r?t.forEach(function(t,r){r.forEach(function(r){e.append(t,r)})}):t&&Object.getOwnPropertyNames(t).forEach(function(r){e.append(r,t[r])})}function o(t){return t.bodyUsed?Promise.reject(new TypeError("Already read")):void(t.bodyUsed=!0)}function n(t){return new Promise(function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}})}function i(t){var e=new FileReader;return e.readAsArrayBuffer(t),n(e)}function s(t){var e=new FileReader;return e.readAsText(t),n(e)}function a(){return this.bodyUsed=!1,l.blob?(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(l.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(l.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):(this._initBody=function(t){if(this._bodyInit=t,"string"==typeof t)this._bodyText=t;else if(l.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else{if(t)throw new Error("unsupported BodyInit type");this._bodyText=""}},this.text=function(){var t=o(this);return t?t:Promise.resolve(this._bodyText)}),l.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(t){var e=t.toUpperCase();return c.indexOf(e)>-1?e:t}function f(t,e){if(e=e||{},this.url=t,this.credentials=e.credentials||"omit",this.headers=new r(e.headers),this.method=u(e.method||"GET"),this.mode=e.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&e.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(e.body)}function h(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var r=t.split("="),o=r.shift().replace(/\+/g," "),n=r.join("=").replace(/\+/g," ");e.append(decodeURIComponent(o),decodeURIComponent(n))}}),e}function d(t){var e=new r,o=t.getAllResponseHeaders().trim().split("\n");return o.forEach(function(t){var r=t.trim().split(":"),o=r.shift().trim(),n=r.join(":").trim();e.append(o,n)}),e}function p(t,e){e||(e={}),this._initBody(t),this.type="default",this.url=null,this.status=e.status,this.ok=this.status>=200&&this.status<300,this.statusText=e.statusText,this.headers=e.headers,this.url=e.url||""}if(!self.fetch){r.prototype.append=function(r,o){r=t(r),o=e(o);var n=this.map[r];n||(n=[],this.map[r]=n),n.push(o)},r.prototype["delete"]=function(e){delete this.map[t(e)]},r.prototype.get=function(e){var r=this.map[t(e)];return r?r[0]:null},r.prototype.getAll=function(e){return this.map[t(e)]||[]},r.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},r.prototype.set=function(r,o){this.map[t(r)]=[e(o)]},r.prototype.forEach=function(t){var e=this;Object.getOwnPropertyNames(this.map).forEach(function(r){t(r,e.map[r])})};var l={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self},c=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.fetch=function(){var t=this;return new Promise(function(e,r){function o(){return"responseURL"in n?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):void 0}var n=new XMLHttpRequest;"cors"===t.credentials&&(n.withCredentials=!0),n.onload=function(){var t=1223===n.status?204:n.status;if(100>t||t>599)return void r(new TypeError("Network request failed"));var i={status:t,statusText:n.statusText,headers:d(n),url:o()},s="response"in n?n.response:n.responseText;e(new p(s,i))},n.onerror=function(){r(new TypeError("Network request failed"))},n.open(t.method,t.url,!0),"responseType"in n&&l.blob&&(n.responseType="blob"),t.headers.forEach(function(t,e){e.forEach(function(e){n.setRequestHeader(t,e)})}),n.send("undefined"==typeof t._bodyInit?null:t._bodyInit)})},a.call(f.prototype),a.call(p.prototype),self.Headers=r,self.Request=f,self.Response=p,self.fetch=function(t,e){return new f(t,e).fetch()},self.fetch.polyfill=!0}}();!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.domElements=e()}}(function(){return function e(t,r,n){function o(i,l){if(!r[i]){if(!t[i]){var s="function"==typeof require&&require;if(!l&&s)return s(i,!0);if(u)return u(i,!0);throw new Error("Cannot find module '"+i+"'")}var p=r[i]={exports:{}};t[i][0].call(p.exports,function(e){var r=t[i][1][e];return o(r?r:e)},p,p.exports,e,t,r,n)}return r[i].exports}for(var u="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}({1:[function(e,t){function r(){}t.exports=r;var n=e("../utils/pushuniq"),o=r.prototype=[],u=e("../methods");o.queryAll=function(e){var t=n();return this.reduce(function(r,n){return t(u.queryAll.call(n,e))},null)},o.query=function(e){return o.queryAll.call(this,e)[0]||null}},{"../methods":5,"../utils/pushuniq":11}],2:[function(e){var t=e("./methods"),r=e("./utils/is-native"),n=[];if(!("undefined"!=typeof Document&&"map"in n&&"reduce"in n&&"querySelectorAll"in document))throw new TypeError("Missing browser features to initiantiate dom-elements");"Element"in window&&(r(Element.prototype,"query")||(Element.prototype.query=t.query),r(Element.prototype,"queryAll")||(Element.prototype.queryAll=t.queryAll)),["Document","DocumentFragment"].forEach(function(e){var n;e in window&&(n=window[e].prototype,r(n,"query")||(n.query=t.queryWrapper),r(n,"queryAll")||(n.queryAll=t.queryAllWrapper))})},{"./methods":5,"./utils/is-native":10}],3:[function(e,t){var r=e("./attribute-name");t.exports=function(e){return function(t){return"["+r+'="'+e+'"] '+t}}},{"./attribute-name":4}],4:[function(e,t){t.exports="data-dom-elements-id-"+e("../utils/expando")},{"../utils/expando":9}],5:[function(e,t){var r=e("../scope"),n=e("../scope/support"),o=t.exports={},u=e("../elements"),i=e("../utils/to-array"),l=e("./attribute-name"),s=e("./scope-selector"),p=e("./absolutize-selector"),c=-1;o.query=function(e){return o.queryAll.call(this,e)[0]||null},o.queryAll=function(e){var t,o,a,f=this;return n||f.setAttribute(l,++c),o=n?r(e,s):r(e,p(c)),t=f.querySelectorAll(o),n||f.removeAttribute(l),a=new u,a.push.apply(a,i(t)),a},o.queryAllWrapper=function(e){var t=this.querySelectorAll(e),r=new u;return r.push.apply(r,i(t)),r},o.queryWrapper=function(e){return this.querySelector(e)}},{"../elements":1,"../scope":7,"../scope/support":8,"../utils/to-array":13,"./absolutize-selector":3,"./attribute-name":4,"./scope-selector":6}],6:[function(e,t){t.exports=function(e){return":scoped "+e}},{}],7:[function(e,t){var r=e("../utils/separate-selector");t.exports=function(e,t){var n=r(e),o=n.map(t);return o.join()}},{"../utils/separate-selector":12}],8:[function(e,t){try{document.createElement("i").querySelector(":scoped *"),t.exports=!0}catch(r){t.exports=!1}},{}],9:[function(e,t){t.exports=String(Math.random()).replace(/\D/g,"")},{}],10:[function(e,t){var r=Function.prototype.toString,n=r.call(document.querySelector),o=/\bquerySelector\b/g;t.exports=function(e,t){return e[t]?r.call(e[t])===n.replace(o,t):!1}},{}],11:[function(e,t){var r=e("../elements"),n=e("./expando"),o="domElementsId"+n,u=-1;t.exports=function(e){function t(e){for(var t,r=-1,l=e.length;++r<l;)t=e[r],t&&1===t.nodeType&&(o in t&&i.hasOwnProperty(t[o])||(t[o]=++u,i[u]=1,n.push(t)));return n}var n=new r,i={};return arguments.length&&t(e),t}},{"../elements":1,"./expando":9}],12:[function(e,t){t.exports=function(e){return e.split(/\s*,\s*/)}},{}],13:[function(e,t){t.exports=function(e){for(var t=-1,r=e.length,n=Array(r);++t<r;)n[t]=e[t];return n}},{}]},{},[2])(2)});!function(t){"use strict";function e(e){return"string"==typeof e?t.document.createTextNode(e):e}function n(n){if(1===n.length)return e(n[0]);for(var r=t.document.createDocumentFragment(),i=p.call(n),o=0;o<n.length;o++)r.appendChild(e(i[o]));return r}for(var r,i,o,s,a=Object.defineProperty||function(t,e,n){t.__defineGetter__(e,n.get)},c=[].indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},u=/^\s+|\s+$/g,l=/\s+/,h=" ",d=function(t,e){return this.contains(t)?e||this.remove(t):(void 0===e||e)&&(e=!0,this.add(t)),!!e},m=(t.Element||t.Node||t.HTMLElement).prototype,f=["matches",m.matchesSelector||m.webkitMatchesSelector||m.khtmlMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector||function(t){var e=this.parentNode;return!!e&&-1<c.call(e.querySelectorAll(t),this)},"closest",function(t){for(var e,n=this;(e=n&&n.matches)&&!n.matches(t);)n=n.parentNode;return e?n:null},"prepend",function(){var t=this.firstChild,e=n(arguments);t?this.insertBefore(e,t):this.appendChild(e)},"append",function(){this.appendChild(n(arguments))},"before",function(){var t=this.parentNode;t&&t.insertBefore(n(arguments),this)},"after",function(){var t=this.parentNode,e=this.nextSibling,r=n(arguments);t&&(e?t.insertBefore(r,e):t.appendChild(r))},"replace",function(){this.replaceWith.apply(this,arguments)},"replaceWith",function(){var t=this.parentNode;t&&t.replaceChild(n(arguments),this)},"remove",function(){var t=this.parentNode;t&&t.removeChild(this)}],p=f.slice,g=f.length;g;g-=2)i=f[g-2],i in m||(m[i]=f[g-1]);document.createElement("a").matches("a")||(m[i]=function(t){return function(e){return t.call(this.parentNode?this:document.createDocumentFragment().appendChild(this),e)}}(m[i])),"classList"in document.documentElement?(s=document.createElement("div").classList,s.add("a","b","a"),"a b"!=s&&(m=s.constructor.prototype,"add"in m||(m=t.DOMTokenList.prototype),o=function(t){return function(){for(var e=0;e<arguments.length;)t.call(this,arguments[e++])}},m.add=o(m.add),m.remove=o(m.remove),m.toggle=d)):(o=function(t){if(!t)throw"SyntaxError";if(l.test(t))throw"InvalidCharacterError";return t},s=function(t){var e=t.className.replace(u,"");e.length&&f.push.apply(this,e.split(l)),this._=t},s.prototype={length:0,add:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)||f.push.call(this,i);this._.className=""+this},contains:function(t){return function(e){return g=t.call(this,i=o(e)),g>-1}}([].indexOf||function(t){for(g=this.length;g--&&this[g]!==t;);return g}),item:function(t){return this[t]||null},remove:function(){for(var t,e=0;e<arguments.length;e++)t=arguments[e],this.contains(t)&&f.splice.call(this,g,1);this._.className=""+this},toggle:d,toString:function(){return f.join.call(this,h)}},a(m,"classList",{get:function(){return new s(this)},set:function(){}})),"head"in document||a(document,"head",{get:function(){return r||(r=document.getElementsByTagName("head")[0])}});try{new t.CustomEvent("?")}catch(v){t.CustomEvent=function(t,e){function n(n,i){var o=document.createEvent(t);if("string"!=typeof n)throw new Error("An event name must be provided");return"Event"==t&&(o.initCustomEvent=r),null==i&&(i=e),o.initCustomEvent(n,i.bubbles,i.cancelable,i.detail),o}function r(t,e,n,r){this.initEvent(t,e,n),this.detail=r}return n}(t.CustomEvent?"CustomEvent":"Event",{bubbles:!1,cancelable:!1,detail:null})}}(window);!function(){if("undefined"==typeof window.performance&&(window.performance={}),!window.performance.now){var n=Date.now();performance.timing&&performance.timing.navigationStart&&(n=performance.timing.navigationStart),window.performance.now=function(){return Date.now()-n}}}();RegExp.prototype.search||!function(){var e=function(){try{var e={},r=Object.defineProperty,t=r(e,e,e)&&r}catch(o){}return t}(),r={},t=r.toString,o=function(e,r){if("function"==typeof e.exec){var o=e.exec(r);if("object"!=typeof o)throw TypeError();return o}if("[object RegExp]"!=t.call(e))throw TypeError();return RegExp.prototype.exec.call(e,r)},n=function(e){var r=this;if(null===r||"object"!=typeof r)throw TypeError();var t=String(e),n=r.lastIndex;r.lastIndex=0;var c=o(r,t);return r.lastIndex=n,null===c?-1:c.index};e?e(RegExp.prototype,"search",{value:n,configurable:!0,writable:!0}):RegExp.prototype.search=n}();RegExp.prototype.match||!function(){var r=function(){try{var r={},t=Object.defineProperty,e=t(r,r,r)&&t}catch(o){}return e}(),t={},e=t.toString,o=function(r,t){if("function"==typeof r.exec){var o=r.exec(t);if("object"!=typeof o)throw TypeError();return o}if("[object RegExp]"!=e.call(r))throw TypeError();return RegExp.prototype.exec.call(r,t)},n=function(r){var t=this;if(null===t||"object"!=typeof t)throw TypeError();var e=String(r),n=Boolean(t.global);if(n!==!0)return o(t,e);t.lastIndex=0;for(var a=[],c=0;;){var p=o(t,e);if(null===p)return 0==c?p:a;var f=p[0];a[c]=f,++c}};r?r(RegExp.prototype,"match",{value:n,configurable:!0,writable:!0}):RegExp.prototype.match=n}();window.matchMedia||(window.matchMedia=function(){"use strict";var e=window.styleMedia||window.media;if(!e){var t=document.createElement("style"),r=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",r.parentNode.insertBefore(t,r),i="getComputedStyle"in window&&window.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var r="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=r:t.textContent=r,"1px"===i.width}}}return function(t){return{matches:e.matchMedium(t||"all"),media:t||"all"}}}()),function(e,t,r){"use strict";function i(e){var t,r,i,n,o,a=e||{};t=a.elements||s.getAllElements();for(var c=0,l=t.length;l>c;c++)if(r=t[c],i=r.parentNode,n=void 0,o=void 0,"IMG"===r.nodeName.toUpperCase()&&(r[s.ns]||(r[s.ns]={}),a.reevaluate||!r[s.ns].evaluated)){if(i&&"PICTURE"===i.nodeName.toUpperCase()){if(s.removeVideoShim(i),n=s.getMatch(r,i),n===!1)continue}else n=void 0;(i&&"PICTURE"===i.nodeName.toUpperCase()||r.srcset&&!s.srcsetSupported||!s.sizesSupported&&r.srcset&&r.srcset.indexOf("w")>-1)&&s.dodgeSrcset(r),n?(o=s.processSourceSet(n),s.applyBestCandidate(o,r)):(o=s.processSourceSet(r),(void 0===r.srcset||r[s.ns].srcset)&&s.applyBestCandidate(o,r)),r[s.ns].evaluated=!0}}function n(){function r(){var t;e._picturefillWorking||(e._picturefillWorking=!0,e.clearTimeout(t),t=e.setTimeout(function(){i({reevaluate:!0}),e._picturefillWorking=!1},60))}i();var n=setInterval(function(){return i(),/^loaded|^i|^c/.test(t.readyState)?void clearInterval(n):void 0},250);e.addEventListener?e.addEventListener("resize",r,!1):e.attachEvent&&e.attachEvent("onresize",r)}if(e.HTMLPictureElement)return void(e.picturefill=function(){});t.createElement("picture");var s=e.picturefill||{};s.ns="picturefill",function(){s.srcsetSupported="srcset"in r,s.sizesSupported="sizes"in r}(),s.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},s.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},s.restrictsMixedContent=function(){return"https:"===e.location.protocol},s.matchesMedia=function(t){return e.matchMedia&&e.matchMedia(t).matches},s.getDpr=function(){return e.devicePixelRatio||1},s.getWidthFromLength=function(e){e=e&&e.indexOf("%")>-1==!1&&(parseFloat(e)>0||e.indexOf("calc(")>-1)?e:"100vw",e=e.replace("vw","%"),s.lengthEl||(s.lengthEl=t.createElement("div"),s.lengthEl.style.cssText="border:0;display:block;font-size:1em;left:0;margin:0;padding:0;position:absolute;visibility:hidden"),s.lengthEl.style.width=e,t.body.appendChild(s.lengthEl),s.lengthEl.className="helper-from-picturefill-js",s.lengthEl.offsetWidth<=0&&(s.lengthEl.style.width=t.documentElement.offsetWidth+"px");var r=s.lengthEl.offsetWidth;return t.body.removeChild(s.lengthEl),r},s.detectTypeSupport=function(t,r){var n=new e.Image;return n.onerror=function(){s.types[t]=!1,i()},n.onload=function(){s.types[t]=1===n.width,i()},n.src=r,"pending"},s.types=s.types||{},s.types["image/jpeg"]=!0,s.types["image/gif"]=!0,s.types["image/png"]=!0,s.types["image/svg+xml"]=t.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.types["image/webp"]=s.detectTypeSupport("image/webp","data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),s.verifyTypeSupport=function(e){var t=e.getAttribute("type");if(null===t||""===t)return!0;var r=s.types[t];return"string"==typeof r&&"pending"!==r?(s.types[t]=s.detectTypeSupport(t,r),"pending"):"function"==typeof r?(r(),"pending"):r},s.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},s.findWidthFromSourceSize=function(e){for(var t,r=s.trim(e).split(/\s*,\s*/),i=0,n=r.length;n>i;i++){var o=r[i],a=s.parseSize(o),c=a.length,l=a.media;if(c&&(!l||s.matchesMedia(l))){t=c;break}}return s.getWidthFromLength(t)},s.parseSrcset=function(e){for(var t=[];""!==e;){e=e.replace(/^\s+/g,"");var r,i=e.search(/\s/g),n=null;if(-1!==i){r=e.slice(0,i);var s=r.slice(-1);if((","===s||""===r)&&(r=r.replace(/,+$/,""),n=""),e=e.slice(i+1),null===n){var o=e.indexOf(",");-1!==o?(n=e.slice(0,o),e=e.slice(o+1)):(n=e,e="")}}else r=e,e="";(r||n)&&t.push({url:r,descriptor:n})}return t},s.parseDescriptor=function(e,t){var r,i=t||"100vw",n=e&&e.replace(/(^\s+|\s+$)/g,""),o=s.findWidthFromSourceSize(i);if(n)for(var a=n.split(" "),c=a.length-1;c>=0;c--){var l=a[c],u=l&&l.slice(l.length-1);if("h"!==u&&"w"!==u||s.sizesSupported){if("x"===u){var d=l&&parseFloat(l,10);r=d&&!isNaN(d)?d:1}}else r=parseFloat(parseInt(l,10)/o)}return r||1},s.getCandidatesFromSourceSet=function(e,t){for(var r=s.parseSrcset(e),i=[],n=0,o=r.length;o>n;n++){var a=r[n];i.push({url:a.url,resolution:s.parseDescriptor(a.descriptor,t)})}return i},s.dodgeSrcset=function(e){e.srcset&&(e[s.ns].srcset=e.srcset,e.srcset="",e.setAttribute("data-pfsrcset",e[s.ns].srcset))},s.processSourceSet=function(e){var t=e.getAttribute("srcset"),r=e.getAttribute("sizes"),i=[];return"IMG"===e.nodeName.toUpperCase()&&e[s.ns]&&e[s.ns].srcset&&(t=e[s.ns].srcset),t&&(i=s.getCandidatesFromSourceSet(t,r)),i},s.backfaceVisibilityFix=function(e){var t=e.style||{},r="webkitBackfaceVisibility"in t,i=t.zoom;r&&(t.zoom=".999",r=e.offsetWidth,t.zoom=i)},s.setInherentSize=function(e,t,r){var i,n=void 0!==r?r:t.complete,o=!n&&t.getAttribute&&null!==t.getAttribute("width"),a=function(e,t){t.setAttribute&&t.setAttribute("width",t.naturalWidth/e)};n&&e&&!o&&a(e,t),n||(i=setTimeout(function(){s.setInherentSize(e,t,t.complete)},250))},s.applyBestCandidate=function(e,t){var r,i,n;e.sort(s.ascendingSort),i=e.length,n=e[i-1];for(var o=0;i>o;o++)if(r=e[o],r.resolution>=s.getDpr()){n=r;break}n&&!s.endsWith(t.src,n.url)&&(s.restrictsMixedContent()&&"http:"===n.url.substr(0,"http:".length).toLowerCase()?void 0!==window.console&&console.warn("Blocked mixed content image "+n.url):(t.src=n.url,t.currentSrc=t.src,s.backfaceVisibilityFix(t),s.setInherentSize(n.resolution,t)))},s.ascendingSort=function(e,t){return e.resolution-t.resolution},s.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var r=t[0],i=r.getElementsByTagName("source");i.length;)e.insertBefore(i[0],r);r.parentNode.removeChild(r)}},s.getAllElements=function(){for(var e=[],r=t.getElementsByTagName("img"),i=0,n=r.length;n>i;i++){var o=r[i];("PICTURE"===o.parentNode.nodeName.toUpperCase()||null!==o.getAttribute("srcset")||o[s.ns]&&null!==o[s.ns].srcset)&&e.push(o)}return e},s.getMatch=function(e,t){for(var r,i=t.childNodes,n=0,o=i.length;o>n;n++){var a=i[n];if(1===a.nodeType){if(a===e)return r;if("SOURCE"===a.nodeName.toUpperCase()){null!==a.getAttribute("src")&&void 0!==typeof console&&console.warn("The `src` attribute is invalid on `picture` `source` element; instead, use `srcset`.");var c=a.getAttribute("media");if(a.getAttribute("srcset")&&(!c||s.matchesMedia(c))){var l=s.verifyTypeSupport(a);if(l===!0){r=a;break}if("pending"===l)return!1}}}}return r},n(),i._=s,"object"==typeof module&&"object"==typeof module.exports?module.exports=i:"function"==typeof define&&define.amd&&define(function(){return i}),"object"==typeof e&&(e.picturefill=i)}(window,window.document,new window.Image);"use strict";var idbModules={},cleanInterface=!1;!function(){var e={test:!0};if(Object.defineProperty)try{Object.defineProperty(e,"test",{enumerable:!1}),e.test&&(cleanInterface=!0)}catch(t){}}(),function(e){function t(e,t,n,o){n.target=t,"function"==typeof t[e]&&t[e].apply(t,[n]),"function"==typeof o&&o()}function n(t,n,o){var r;try{r=new DOMException.prototype.constructor(0,n)}catch(i){r=new Error(n)}throw r.name=t,r.message=n,e.DEBUG&&(console.log(t,n,o,r),console.trace&&console.trace()),r}var o=function(){this.length=0,this._items=[],cleanInterface&&Object.defineProperty(this,"_items",{enumerable:!1})};if(o.prototype={contains:function(e){return-1!==this._items.indexOf(e)},item:function(e){return this._items[e]},indexOf:function(e){return this._items.indexOf(e)},push:function(e){this._items.push(e),this.length+=1;for(var t=0;t<this._items.length;t++)this[t]=this._items[t]},splice:function(){this._items.splice.apply(this._items,arguments),this.length=this._items.length;for(var e in this)e===String(parseInt(e,10))&&delete this[e];for(e=0;e<this._items.length;e++)this[e]=this._items[e]}},cleanInterface)for(var r in{indexOf:!1,push:!1,splice:!1})Object.defineProperty(o.prototype,r,{enumerable:!1});e.util={throwDOMException:n,callback:t,quote:function(e){return"'"+e+"'"},StringList:o}}(idbModules),function(idbModules){var Sca=function(){return{decycle:function(object,callback){function checkForCompletion(){0===queuedObjects.length&&returnCallback(derezObj)}function readBlobAsDataURL(e,t){var n=new FileReader;n.onloadend=function(n){var o=n.target.result,r="blob";e instanceof File,updateEncodedBlob(o,t,r)},n.readAsDataURL(e)}function updateEncodedBlob(dataURL,path,blobtype){var encoded=queuedObjects.indexOf(path);path=path.replace("$","derezObj"),eval(path+'.$enc="'+dataURL+'"'),eval(path+'.$type="'+blobtype+'"'),queuedObjects.splice(encoded,1),checkForCompletion()}function derez(e,t){var n,o,r;if(!("object"!=typeof e||null===e||e instanceof Boolean||e instanceof Date||e instanceof Number||e instanceof RegExp||e instanceof Blob||e instanceof String)){for(n=0;n<objects.length;n+=1)if(objects[n]===e)return{$ref:paths[n]};if(objects.push(e),paths.push(t),"[object Array]"===Object.prototype.toString.apply(e))for(r=[],n=0;n<e.length;n+=1)r[n]=derez(e[n],t+"["+n+"]");else{r={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=derez(e[o],t+"["+JSON.stringify(o)+"]"))}return r}return e instanceof Blob?(queuedObjects.push(t),readBlobAsDataURL(e,t)):e instanceof Boolean?e={$type:"bool",$enc:e.toString()}:e instanceof Date?e={$type:"date",$enc:e.getTime()}:e instanceof Number?e={$type:"num",$enc:e.toString()}:e instanceof RegExp&&(e={$type:"regex",$enc:e.toString()}),e}var objects=[],paths=[],queuedObjects=[],returnCallback=callback,derezObj=derez(object,"$");checkForCompletion()},retrocycle:function retrocycle($){function dataURLToBlob(e){var t,n,o,r=";base64,";if(-1===e.indexOf(r))return n=e.split(","),t=n[0].split(":")[1],o=n[1],new Blob([o],{type:t});n=e.split(r),t=n[0].split(":")[1],o=window.atob(n[1]);for(var i=o.length,a=new Uint8Array(i),s=0;i>s;++s)a[s]=o.charCodeAt(s);return new Blob([a.buffer],{type:t})}function rez(value){var i,item,name,path;if(value&&"object"==typeof value)if("[object Array]"===Object.prototype.toString.apply(value))for(i=0;i<value.length;i+=1)item=value[i],item&&"object"==typeof item&&(path=item.$ref,value[i]="string"==typeof path&&px.test(path)?eval(path):rez(item));else if(void 0!==value.$type)switch(value.$type){case"blob":case"file":value=dataURLToBlob(value.$enc);break;case"bool":value=Boolean("true"===value.$enc);break;case"date":value=new Date(value.$enc);break;case"num":value=Number(value.$enc);break;case"regex":value=eval(value.$enc)}else for(name in value)"object"==typeof value[name]&&(item=value[name],item&&(path=item.$ref,value[name]="string"==typeof path&&px.test(path)?eval(path):rez(item)));return value}var px=/^\$(?:\[(?:\d+|\"(?:[^\\\"\u0000-\u001f]|\\([\\\"\/bfnrt]|u[0-9a-zA-Z]{4}))*\")\])*$/;return rez($),$},encode:function(e,t){function n(e){t(JSON.stringify(e))}this.decycle(e,n)},decode:function(e){return this.retrocycle(JSON.parse(e))}}}();idbModules.Sca=Sca}(idbModules),function(e){var t=["","number","string","boolean","object","undefined"],n=function(){return{encode:function(e){return t.indexOf(typeof e)+"-"+JSON.stringify(e)},decode:function(e){return"undefined"==typeof e?void 0:JSON.parse(e.substring(2))}}},o={number:n("number"),"boolean":n(),object:n(),string:{encode:function(e){return t.indexOf("string")+"-"+e},decode:function(e){return""+e.substring(2)}},undefined:{encode:function(){return t.indexOf("undefined")+"-undefined"},decode:function(){return void 0}}},r=function(){return{encode:function(e){return o[typeof e].encode(e)},decode:function(e){return o[t[e.substring(0,1)]].decode(e)}}}();e.Key=r}(idbModules),function(e){var t=function(e,t){return{type:e,debug:t,bubbles:!1,cancelable:!1,eventPhase:0,timeStamp:new Date}};e.Event=t}(idbModules),function(e){var t=function(){this.onsuccess=this.onerror=this.result=this.error=this.source=this.transaction=null,this.readyState="pending"},n=function(){this.onblocked=this.onupgradeneeded=null};n.prototype=t,e.IDBRequest=t,e.IDBOpenRequest=n}(idbModules),function(e,t){var n=function(e,t,n,o){this.lower=e,this.upper=t,this.lowerOpen=n,this.upperOpen=o};n.only=function(e){return new n(e,e,!1,!1)},n.lowerBound=function(e,o){return new n(e,t,o,t)},n.upperBound=function(e){return new n(t,e,t,open)},n.bound=function(e,t,o,r){return new n(e,t,o,r)},e.IDBKeyRange=n}(idbModules),function(e,t){function n(n,o,r,i,a,s){!n||n instanceof e.IDBKeyRange||(n=new e.IDBKeyRange(n,n,!1,!1)),this.__range=n,this.source=this.__idbObjectStore=r,this.__req=i,this.key=t,this.direction=o,this.__keyColumnName=a,this.__valueColumnName=s,this.__valueDecoder="value"===s?e.Sca:e.Key,this.source.transaction.__active||e.util.throwDOMException("TransactionInactiveError - The transaction this IDBObjectStore belongs to is not active."),this.__offset=-1,this.__lastKeyContinued=t,this["continue"]()}n.prototype.__find=function(n,o,r,i,a){a=a||1;var s=this,u=["SELECT * FROM ",e.util.quote(s.__idbObjectStore.name)],c=[];u.push("WHERE ",s.__keyColumnName," NOT NULL"),!s.__range||s.__range.lower===t&&s.__range.upper===t||(u.push("AND"),s.__range.lower!==t&&(u.push(s.__keyColumnName+(s.__range.lowerOpen?" >":" >= ")+" ?"),c.push(e.Key.encode(s.__range.lower))),s.__range.lower!==t&&s.__range.upper!==t&&u.push("AND"),s.__range.upper!==t&&(u.push(s.__keyColumnName+(s.__range.upperOpen?" < ":" <= ")+" ?"),c.push(e.Key.encode(s.__range.upper)))),"undefined"!=typeof n&&(s.__lastKeyContinued=n,s.__offset=0),s.__lastKeyContinued!==t&&(u.push("AND "+s.__keyColumnName+" >= ?"),c.push(e.Key.encode(s.__lastKeyContinued)));var d="prev"===s.direction||"prevunique"===s.direction?"DESC":"ASC";u.push("ORDER BY ",s.__keyColumnName," "+d),u.push("LIMIT "+a+" OFFSET "+s.__offset),e.DEBUG&&console.log(u.join(" "),c),s.__prefetchedData=null,o.executeSql(u.join(" "),c,function(n,o){o.rows.length>1?(s.__prefetchedData=o.rows,s.__prefetchedIndex=0,e.DEBUG&&console.log("Preloaded "+s.__prefetchedData.length+" records for cursor"),s.__decode(o.rows.item(0),r)):1===o.rows.length?s.__decode(o.rows.item(0),r):(e.DEBUG&&console.log("Reached end of cursors"),r(t,t))},function(t,n){e.DEBUG&&console.log("Could not execute Cursor.continue"),i(n)})},n.prototype.__decode=function(t,n){var o=e.Key.decode(t[this.__keyColumnName]),r=this.__valueDecoder.decode(t[this.__valueColumnName]),i=e.Key.decode(t.key);n(o,r,i)},n.prototype["continue"]=function(n){var o=e.cursorPreloadPackSize||100,r=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(e,i,a,s){r.__offset++;var u=function(e,n,o){r.key=e,r.value=n,r.primaryKey=o,a("undefined"!=typeof r.key?r:t,r.__req)};return r.__prefetchedData&&(r.__prefetchedIndex++,r.__prefetchedIndex<r.__prefetchedData.length)?void r.__decode(r.__prefetchedData.item(r.__prefetchedIndex),u):void r.__find(n,e,u,s,o)})},n.prototype.advance=function(n){0>=n&&e.util.throwDOMException("Type Error - Count is invalid - 0 or negative",n);var o=this;this.__idbObjectStore.transaction.__addToTransactionQueue(function(e,r,i,a){o.__offset+=n,o.__find(t,e,function(e,n){o.key=e,o.value=n,i("undefined"!=typeof o.key?o:t,o.__req)},a)})},n.prototype.update=function(n){var o=this,r=this.__idbObjectStore.transaction.__createRequest(function(){});return e.Sca.encode(n,function(i){o.__idbObjectStore.transaction.__pushToQueue(r,function(r,a,s,u){o.__find(t,r,function(t,a,c){var d=o.__idbObjectStore,l=o.__idbObjectStore.transaction.db.__storeProperties,_=[i],f="UPDATE "+e.util.quote(d.name)+" SET value = ?",p=l[d.name]&&l[d.name].indexList;if(p)for(var h in p){var b=p[h];f+=", "+h+" = ?",_.push(e.Key.encode(n[b.keyPath]))}f+=" WHERE key = ?",_.push(e.Key.encode(c)),e.DEBUG&&console.log(f,i,t,c),r.executeSql(f,_,function(e,n){o.__prefetchedData=null,1===n.rowsAffected?s(t):u("No rows with key found"+t)},function(e,t){u(t)})},u)})}),r},n.prototype["delete"]=function(){var n=this;return this.__idbObjectStore.transaction.__addToTransactionQueue(function(o,r,i,a){n.__find(t,o,function(r,s,u){var c="DELETE FROM  "+e.util.quote(n.__idbObjectStore.name)+" WHERE key = ?";e.DEBUG&&console.log(c,r,u),o.executeSql(c,[e.Key.encode(u)],function(e,o){n.__prefetchedData=null,1===o.rowsAffected?(n.__offset--,i(t)):a("No rows with key found"+r)},function(e,t){a(t)})},a)})},e.IDBCursor=n}(idbModules),function(idbModules,undefined){function IDBIndex(e,t){this.indexName=this.name=e,this.__idbObjectStore=this.objectStore=this.source=t;var n=t.transaction.db.__storeProperties[t.name],o=n&&n.indexList;this.keyPath=o&&o[e]&&o[e].keyPath||e,["multiEntry","unique"].forEach(function(t){this[t]=!!(o&&o[e]&&o[e].optionalParams&&o[e].optionalParams[t])},this)}IDBIndex.prototype.__createIndex=function(indexName,keyPath,optionalParameters){var me=this,transaction=me.__idbObjectStore.transaction;transaction.__addToTransactionQueue(function(tx,args,success,failure){me.__idbObjectStore.__getStoreProps(tx,function(){function error(){idbModules.util.throwDOMException(0,"Could not create new index",arguments)}2!==transaction.mode&&idbModules.util.throwDOMException(0,"Invalid State error, not a version transaction",me.transaction);var idxList=JSON.parse(me.__idbObjectStore.__storeProps.indexList);"undefined"!=typeof idxList[indexName]&&idbModules.util.throwDOMException(0,"Index already exists on store",idxList);var columnName=indexName;idxList[indexName]={columnName:columnName,keyPath:keyPath,optionalParams:optionalParameters},me.__idbObjectStore.__storeProps.indexList=JSON.stringify(idxList);var sql=["ALTER TABLE",idbModules.util.quote(me.__idbObjectStore.name),"ADD",columnName,"BLOB"].join(" ");idbModules.DEBUG&&console.log(sql),tx.executeSql(sql,[],function(tx,data){tx.executeSql("SELECT * FROM "+idbModules.util.quote(me.__idbObjectStore.name),[],function(tx,data){!function initIndexForRow(i){if(i<data.rows.length)try{var value=idbModules.Sca.decode(data.rows.item(i).value),indexKey=eval("value['"+keyPath+"']");tx.executeSql("UPDATE "+idbModules.util.quote(me.__idbObjectStore.name)+" set "+columnName+" = ? where key = ?",[idbModules.Key.encode(indexKey),data.rows.item(i).key],function(){initIndexForRow(i+1)},error)}catch(e){initIndexForRow(i+1)}else idbModules.DEBUG&&console.log("Updating the indexes in table",me.__idbObjectStore.__storeProps),tx.executeSql("UPDATE __sys__ set indexList = ? where name = ?",[me.__idbObjectStore.__storeProps.indexList,me.__idbObjectStore.name],function(){me.__idbObjectStore.__setReadyState("createIndex",!0),success(me)},error)}(0)},error)},error)},"createObjectStore")})},IDBIndex.prototype.openCursor=function(e,t){{var n=new idbModules.IDBRequest;new idbModules.IDBCursor(e,t,this.source,n,this.indexName,"value")}return n},IDBIndex.prototype.openKeyCursor=function(e,t){{var n=new idbModules.IDBRequest;new idbModules.IDBCursor(e,t,this.source,n,this.indexName,"key")}return n},IDBIndex.prototype.__fetchIndexData=function(e,t){var n=this;return n.__idbObjectStore.transaction.__addToTransactionQueue(function(o,r,i,a){var s=["SELECT * FROM ",idbModules.util.quote(n.__idbObjectStore.name)," WHERE",n.indexName,"NOT NULL"],u=[];"undefined"!=typeof e&&(s.push("AND",n.indexName," = ?"),u.push(idbModules.Key.encode(e))),idbModules.DEBUG&&console.log("Trying to fetch data for Index",s.join(" "),u),o.executeSql(s.join(" "),u,function(e,n){var o;o="count"===t?n.rows.length:0===n.rows.length?undefined:"key"===t?idbModules.Key.decode(n.rows.item(0).key):idbModules.Sca.decode(n.rows.item(0).value),i(o)},a)})},IDBIndex.prototype.get=function(e){return this.__fetchIndexData(e,"value")},IDBIndex.prototype.getKey=function(e){return this.__fetchIndexData(e,"key")},IDBIndex.prototype.count=function(e){return this.__fetchIndexData(e,"count")},idbModules.IDBIndex=IDBIndex}(idbModules),function(idbModules){var IDBObjectStore=function(e,t,n){this.name=e,this.transaction=t,this.__ready={},this.__setReadyState("createObjectStore","undefined"==typeof n?!0:n),this.indexNames=new idbModules.util.StringList;var o=t.db.__storeProperties;if(o[e]&&o[e].indexList){var r=o[e].indexList;for(var i in r)r.hasOwnProperty(i)&&this.indexNames.push(i)}};IDBObjectStore.prototype.__setReadyState=function(e,t){this.__ready[e]=t},IDBObjectStore.prototype.__waitForReady=function(e,t){var n=!0;if("undefined"!=typeof t)n="undefined"==typeof this.__ready[t]?!0:this.__ready[t];else for(var o in this.__ready)this.__ready[o]||(n=!1);if(n)e();else{idbModules.DEBUG&&console.log("Waiting for to be ready",t);var r=this;window.setTimeout(function(){r.__waitForReady(e,t)},100)}},IDBObjectStore.prototype.__getStoreProps=function(e,t,n){var o=this;this.__waitForReady(function(){o.__storeProps?(idbModules.DEBUG&&console.log("Store properties - cached",o.__storeProps),t(o.__storeProps)):e.executeSql("SELECT * FROM __sys__ where name = ?",[o.name],function(e,n){1!==n.rows.length?t():(o.__storeProps={name:n.rows.item(0).name,indexList:n.rows.item(0).indexList,autoInc:n.rows.item(0).autoInc,keyPath:n.rows.item(0).keyPath},idbModules.DEBUG&&console.log("Store properties",o.__storeProps),t(o.__storeProps))},function(){t()})},n)},IDBObjectStore.prototype.__deriveKey=function(tx,value,key,callback){function getNextAutoIncKey(){tx.executeSql("SELECT * FROM sqlite_sequence where name like ?",[me.name],function(e,t){callback(1!==t.rows.length?0:t.rows.item(0).seq)},function(e,t){idbModules.util.throwDOMException(0,"Data Error - Could not get the auto increment value for key",t)})}var me=this;me.__getStoreProps(tx,function(props){if(props||idbModules.util.throwDOMException(0,"Data Error - Could not locate defination for this table",props),props.keyPath)if("undefined"!=typeof key&&idbModules.util.throwDOMException(0,"Data Error - The object store uses in-line keys and the key parameter was provided",props),value)try{var primaryKey=eval("value['"+props.keyPath+"']");void 0===primaryKey?"true"===props.autoInc?getNextAutoIncKey():idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath"):callback(primaryKey)}catch(e){idbModules.util.throwDOMException(0,"Data Error - Could not eval key from keyPath",e)}else idbModules.util.throwDOMException(0,"Data Error - KeyPath was specified, but value was not");else"undefined"!=typeof key?callback(key):"false"===props.autoInc?idbModules.util.throwDOMException(0,"Data Error - The object store uses out-of-line keys and has no key generator and the key parameter was not provided. ",props):getNextAutoIncKey()})},IDBObjectStore.prototype.__insertData=function(tx,encoded,value,primaryKey,success,error){var paramMap={};"undefined"!=typeof primaryKey&&(paramMap.key=idbModules.Key.encode(primaryKey));var indexes=JSON.parse(this.__storeProps.indexList);for(var key in indexes)try{paramMap[indexes[key].columnName]=idbModules.Key.encode(eval("value['"+indexes[key].keyPath+"']"))}catch(e){error(e)}var sqlStart=["INSERT INTO ",idbModules.util.quote(this.name),"("],sqlEnd=[" VALUES ("],sqlValues=[];for(key in paramMap)sqlStart.push(key+","),sqlEnd.push("?,"),sqlValues.push(paramMap[key]);sqlStart.push("value )"),sqlEnd.push("?)"),sqlValues.push(encoded);var sql=sqlStart.join(" ")+sqlEnd.join(" ");idbModules.DEBUG&&console.log("SQL for adding",sql,sqlValues),tx.executeSql(sql,sqlValues,function(){success(primaryKey)},function(e,t){error(t)})},IDBObjectStore.prototype.add=function(e,t){var n=this,o=n.transaction.__createRequest(function(){});return idbModules.Sca.encode(e,function(r){n.transaction.__pushToQueue(o,function(o,i,a,s){n.__deriveKey(o,e,t,function(t){n.__insertData(o,r,e,t,a,s)})})}),o},IDBObjectStore.prototype.put=function(e,t){var n=this,o=n.transaction.__createRequest(function(){});return idbModules.Sca.encode(e,function(r){n.transaction.__pushToQueue(o,function(o,i,a,s){n.__deriveKey(o,e,t,function(t){var i="DELETE FROM "+idbModules.util.quote(n.name)+" where key = ?";o.executeSql(i,[idbModules.Key.encode(t)],function(o,i){idbModules.DEBUG&&console.log("Did the row with the",t,"exist? ",i.rowsAffected),n.__insertData(o,r,e,t,a,s)},function(e,t){s(t)})})})}),o},IDBObjectStore.prototype.get=function(e){var t=this;return t.transaction.__addToTransactionQueue(function(n,o,r,i){t.__waitForReady(function(){var o=idbModules.Key.encode(e);idbModules.DEBUG&&console.log("Fetching",t.name,o),n.executeSql("SELECT * FROM "+idbModules.util.quote(t.name)+" where key = ?",[o],function(e,t){idbModules.DEBUG&&console.log("Fetched data",t);try{if(0===t.rows.length)return r();r(idbModules.Sca.decode(t.rows.item(0).value))}catch(n){idbModules.DEBUG&&console.log(n),r(void 0)}},function(e,t){i(t)})})})},IDBObjectStore.prototype["delete"]=function(e){var t=this;return t.transaction.__addToTransactionQueue(function(n,o,r,i){t.__waitForReady(function(){var o=idbModules.Key.encode(e);idbModules.DEBUG&&console.log("Fetching",t.name,o),n.executeSql("DELETE FROM "+idbModules.util.quote(t.name)+" where key = ?",[o],function(e,t){idbModules.DEBUG&&console.log("Deleted from database",t.rowsAffected),r()},function(e,t){i(t)})})})},IDBObjectStore.prototype.clear=function(){var e=this;return e.transaction.__addToTransactionQueue(function(t,n,o,r){e.__waitForReady(function(){t.executeSql("DELETE FROM "+idbModules.util.quote(e.name),[],function(e,t){idbModules.DEBUG&&console.log("Cleared all records from database",t.rowsAffected),o()},function(e,t){r(t)})})})},IDBObjectStore.prototype.count=function(e){var t=this;return t.transaction.__addToTransactionQueue(function(n,o,r,i){t.__waitForReady(function(){var o="SELECT * FROM "+idbModules.util.quote(t.name)+("undefined"!=typeof e?" WHERE key = ?":""),a=[];"undefined"!=typeof e&&a.push(idbModules.Key.encode(e)),n.executeSql(o,a,function(e,t){r(t.rows.length)},function(e,t){i(t)})})})},IDBObjectStore.prototype.openCursor=function(e,t){{var n=new idbModules.IDBRequest;new idbModules.IDBCursor(e,t,this,n,"key","value")}return n},IDBObjectStore.prototype.index=function(e){var t=new idbModules.IDBIndex(e,this);return t},IDBObjectStore.prototype.createIndex=function(e,t,n){var o=this;n=n||{},o.__setReadyState("createIndex",!1);var r=new idbModules.IDBIndex(e,o);o.__waitForReady(function(){r.__createIndex(e,t,n)},"createObjectStore"),o.indexNames.push(e);var i=o.transaction.db.__storeProperties[o.name];return i.indexList[e]={keyPath:t,optionalParams:n},r},IDBObjectStore.prototype.deleteIndex=function(e){var t=new idbModules.IDBIndex(e,this,!1);return t.__deleteIndex(e),t},idbModules.IDBObjectStore=IDBObjectStore}(idbModules),function(e){var t=0,n=1,o=2,r=function(o,r,i){if("number"==typeof r)this.mode=r,2!==r&&e.DEBUG&&console.log("Mode should be a string, but was specified as ",r);else if("string"==typeof r)switch(r){case"readwrite":this.mode=n;break;case"readonly":this.mode=t;break;default:this.mode=t}this.storeNames="string"==typeof o?[o]:o;for(var a=0;a<this.storeNames.length;a++)i.objectStoreNames.contains(this.storeNames[a])||e.util.throwDOMException(0,"The operation failed because the requested database object could not be found. For example, an object store did not exist but was being opened.",this.storeNames[a]);this.__active=!0,this.__running=!1,this.__requests=[],this.__aborted=!1,this.db=i,this.error=null,this.onabort=this.onerror=this.oncomplete=null};r.prototype.__executeRequests=function(){if(this.__running&&this.mode!==o)return void(e.DEBUG&&console.log("Looks like the request set is already running",this.mode));this.__running=!0;var t=this;window.setTimeout(function(){2===t.mode||t.__active||e.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",t.__active),t.db.__db.transaction(function(n){function o(t,n){n&&(a.req=n),a.req.readyState="done",a.req.result=t,delete a.req.error;var o=e.Event("success");e.util.callback("onsuccess",a.req,o),s++,i()}function r(){a.req.readyState="done",a.req.error="DOMError";var t=e.Event("error",arguments);e.util.callback("onerror",a.req,t),s++,i()}function i(){return s>=t.__requests.length?(t.__active=!1,void(t.__requests=[])):(a=t.__requests[s],void a.op(n,a.args,o,r))}t.__tx=n;var a=null,s=0;try{i()}catch(u){e.DEBUG&&console.log("An exception occured in transaction",arguments),"function"==typeof t.onerror&&t.onerror()}},function(){e.DEBUG&&console.log("An error in transaction",arguments),"function"==typeof t.onerror&&t.onerror()},function(){e.DEBUG&&console.log("Transaction completed",arguments),"function"==typeof t.oncomplete&&t.oncomplete()})},1)},r.prototype.__addToTransactionQueue=function(t,n){this.__active||this.mode===o||e.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished.",this.__mode);var r=this.__createRequest();return this.__pushToQueue(r,t,n),r},r.prototype.__createRequest=function(){var t=new e.IDBRequest;return t.source=this.db,t.transaction=this,t},r.prototype.__pushToQueue=function(e,t,n){this.__requests.push({op:t,args:n,req:e}),this.__executeRequests()},r.prototype.objectStore=function(t){return new e.IDBObjectStore(t,this)},r.prototype.abort=function(){!this.__active&&e.util.throwDOMException(0,"A request was placed against a transaction which is currently not active, or which is finished",this.__active)},r.prototype.READ_ONLY=0,r.prototype.READ_WRITE=1,r.prototype.VERSION_CHANGE=2,e.IDBTransaction=r}(idbModules),function(e){var t=function(t,n,o,r){this.__db=t,this.version=o,this.objectStoreNames=new e.util.StringList;for(var i=0;i<r.rows.length;i++)this.objectStoreNames.push(r.rows.item(i).name);for(this.__storeProperties={},i=0;i<r.rows.length;i++){var a=r.rows.item(i),s=this.__storeProperties[a.name]={};s.keyPath=a.keypath,s.autoInc="true"===a.autoInc,s.indexList=JSON.parse(a.indexList)}this.name=n,this.onabort=this.onerror=this.onversionchange=null};t.prototype.createObjectStore=function(t,n){var o=this;n=n||{},n.keyPath=n.keyPath||null;var r=new e.IDBObjectStore(t,o.__versionTransaction,!1),i=o.__versionTransaction;i.__addToTransactionQueue(function(i,a,s){function u(){e.util.throwDOMException(0,"Could not create new object store",arguments)}o.__versionTransaction||e.util.throwDOMException(0,"Invalid State error",o.transaction);var c=["CREATE TABLE",e.util.quote(t),"(key BLOB",n.autoIncrement?", inc INTEGER PRIMARY KEY AUTOINCREMENT":"PRIMARY KEY",", value BLOB)"].join(" ");e.DEBUG&&console.log(c),i.executeSql(c,[],function(e){e.executeSql("INSERT INTO __sys__ VALUES (?,?,?,?)",[t,n.keyPath,n.autoIncrement?!0:!1,"{}"],function(){r.__setReadyState("createObjectStore",!0),s(r)},u)},u)}),o.objectStoreNames.push(t);var a=o.__storeProperties[t]={};return a.keyPath=n.keyPath,a.autoInc=!!n.autoIncrement,a.indexList={},r},t.prototype.deleteObjectStore=function(t){var n=function(){e.util.throwDOMException(0,"Could not delete ObjectStore",arguments)},o=this;!o.objectStoreNames.contains(t)&&n("Object Store does not exist"),o.objectStoreNames.splice(o.objectStoreNames.indexOf(t),1);var r=o.__versionTransaction;r.__addToTransactionQueue(function(){o.__versionTransaction||e.util.throwDOMException(0,"Invalid State error",o.transaction),o.__db.transaction(function(o){o.executeSql("SELECT * FROM __sys__ where name = ?",[t],function(o,r){r.rows.length>0&&o.executeSql("DROP TABLE "+e.util.quote(t),[],function(){o.executeSql("DELETE FROM __sys__ WHERE name = ?",[t],function(){},n)},n)})})})},t.prototype.close=function(){},t.prototype.transaction=function(t,n){var o=new e.IDBTransaction(t,n||1,this);return o},e.IDBDatabase=t}(idbModules),function(e){var t=4194304;if(window.openDatabase){var n=window.openDatabase("__sysdb__",1,"System Database",t);n.transaction(function(e){e.executeSql("CREATE TABLE IF NOT EXISTS dbVersions (name VARCHAR(255), version INT);",[])},function(){e.DEBUG&&console.log("Error in sysdb transaction - when creating dbVersions",arguments)});var o={open:function(o,r){function i(){if(!u){var t=e.Event("error",arguments);s.readyState="done",s.error="DOMError",e.util.callback("onerror",s,t),u=!0}}function a(a){var u=window.openDatabase(o,1,o,t);s.readyState="done","undefined"==typeof r&&(r=a||1),(0>=r||a>r)&&e.util.throwDOMException(0,"An attempt was made to open a database using a lower version than the existing version.",r),u.transaction(function(t){t.executeSql("CREATE TABLE IF NOT EXISTS __sys__ (name VARCHAR(255), keyPath VARCHAR(255), autoInc BOOLEAN, indexList BLOB)",[],function(){t.executeSql("SELECT * FROM __sys__",[],function(t,c){var d=e.Event("success");s.source=s.result=new e.IDBDatabase(u,o,r,c),r>a?n.transaction(function(t){t.executeSql("UPDATE dbVersions set version = ? where name = ?",[r,o],function(){var t=e.Event("upgradeneeded");t.oldVersion=a,t.newVersion=r,s.transaction=s.result.__versionTransaction=new e.IDBTransaction([],2,s.source),e.util.callback("onupgradeneeded",s,t,function(){var t=e.Event("success");e.util.callback("onsuccess",s,t)})},i)},i):e.util.callback("onsuccess",s,d)},i)},i)},i)}var s=new e.IDBOpenRequest,u=!1;return n.transaction(function(e){e.executeSql("SELECT * FROM dbVersions where name = ?",[o],function(e,t){0===t.rows.length?e.executeSql("INSERT INTO dbVersions VALUES (?,?)",[o,r||1],function(){a(0)},i):a(t.rows.item(0).version)},i)},i),s},deleteDatabase:function(o){function r(t){if(!s){a.readyState="done",a.error="DOMError";var n=e.Event("error");n.message=t,n.debug=arguments,e.util.callback("onerror",a,n),s=!0}}function i(){n.transaction(function(t){t.executeSql("DELETE FROM dbVersions where name = ? ",[o],function(){a.result=void 0;var t=e.Event("success");t.newVersion=null,t.oldVersion=u,e.util.callback("onsuccess",a,t)},r)},r)}var a=new e.IDBOpenRequest,s=!1,u=null;return n.transaction(function(n){n.executeSql("SELECT * FROM dbVersions where name = ?",[o],function(n,s){if(0===s.rows.length){a.result=void 0;var c=e.Event("success");return c.newVersion=null,c.oldVersion=u,void e.util.callback("onsuccess",a,c)}u=s.rows.item(0).version;var d=window.openDatabase(o,1,o,t);d.transaction(function(t){t.executeSql("SELECT * FROM __sys__",[],function(t,n){var o=n.rows;!function a(n){n>=o.length?t.executeSql("DROP TABLE __sys__",[],function(){i()},r):t.executeSql("DROP TABLE "+e.util.quote(o.item(n).name),[],function(){a(n+1)},function(){a(n+1)})}(0)},function(){i()})},r)})},r),a},cmp:function(t,n){return e.Key.encode(t)>e.Key.encode(n)?1:t===n?0:-1}};e.shimIndexedDB=o}}(idbModules),function(e,t){"undefined"!=typeof e.openDatabase&&(e.shimIndexedDB=t.shimIndexedDB,e.shimIndexedDB&&(e.shimIndexedDB.__useShim=function(){e.indexedDB=t.shimIndexedDB,e.IDBDatabase=t.IDBDatabase,e.IDBTransaction=t.IDBTransaction,e.IDBCursor=t.IDBCursor,e.IDBKeyRange=t.IDBKeyRange,e.indexedDB!==t.shimIndexedDB&&Object.defineProperty&&Object.defineProperty(e,"indexedDB",{value:t.shimIndexedDB})},e.shimIndexedDB.__debug=function(e){t.DEBUG=e})),"indexedDB"in e||(e.indexedDB=e.indexedDB||e.webkitIndexedDB||e.mozIndexedDB||e.oIndexedDB||e.msIndexedDB);var n=!1;if((navigator.userAgent.match(/Android 2/)||navigator.userAgent.match(/Android 3/)||navigator.userAgent.match(/Android 4\.[0-3]/))&&(navigator.userAgent.match(/Chrome/)||(n=!0)),"undefined"!=typeof e.indexedDB&&!n||"undefined"==typeof e.openDatabase){e.IDBDatabase=e.IDBDatabase||e.webkitIDBDatabase,e.IDBTransaction=e.IDBTransaction||e.webkitIDBTransaction,e.IDBCursor=e.IDBCursor||e.webkitIDBCursor,e.IDBKeyRange=e.IDBKeyRange||e.webkitIDBKeyRange,e.IDBTransaction||(e.IDBTransaction={});try{e.IDBTransaction.READ_ONLY=e.IDBTransaction.READ_ONLY||"readonly",e.IDBTransaction.READ_WRITE=e.IDBTransaction.READ_WRITE||"readwrite"}catch(o){}}else e.shimIndexedDB.__useShim()}(window,idbModules);